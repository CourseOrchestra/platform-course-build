<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Язык Celesta-SQL :: Платформа КУРС</title>
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Платформа КУРС</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Поиск">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="../../index.html"><img src="../../_/img/course-orchestra-logo.svg" width="60rem"></a>
        <!--div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div-->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="celesta" data-version="7">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="1010_what_is_celesta.html">Челеста</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1010_what_is_celesta.html">Что такое Celesta?</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1012_demo.html">Демонстрационный пример</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1013_maven_plugin.html">Maven-плагин</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1015_vocabulary.html">Словарь основных понятий Celesta</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1020_celesta_start.html">Операции, выполняемые при инициализации Celesta</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1030_basic_settings.html">Параметры конфигурации Celesta</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1040_system_tables.html">Системные таблицы Celesta</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="1050_celesta_sql.html">Язык Celesta-SQL</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1060_celesta_doc.html">CelestaDoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1065_celesta_instantiation.html">Создание экземпляра Celesta</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1070_call_context.html">Контекст вызова</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1080_data_accessors.html">Работа с данными через классы доступа к данным (курсоры)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1088_security_logging.html">Распределение прав доступа и протоколирование изменений</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1090_blob.html">BLOB-поля</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1100_option.html">Options-поля</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1102_dynamic.html">Динамический доступ к данным</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1105_triggers.html">Триггеры</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1107_xrec.html">Объект xRec</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1110_lost_updates_protection.html">Защита от потерянных обновлений</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1120_meta.html">Метаданные Celesta</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="1130_celesta_unit.html">CelestaUnit</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="2005_best_practices.html">Лучшие практики написания кода Celesta</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="2010_supported_rdbms.html">Особенности работы Celesta с поддерживаемыми типами СУБД</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="2020_dbschema.html">Проектирование базы данных Celesta в DBSchema</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Челеста</span>
    <span class="version">7</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../mellophone/2/general.html">Мелофон</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../mellophone/2/general.html">2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../doc/1/st2-ui-state-in-url.html">Платформа КУРС</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../doc/1/st2-ui-state-in-url.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="1010_what_is_celesta.html">Челеста</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="1010_what_is_celesta.html">7</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../doc/1/general.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="1010_what_is_celesta.html">Челеста</a></li>
    <li><a href="1050_celesta_sql.html">Язык Celesta-SQL</a></li>
  </ul>
</nav>
<!--  -->
<!--  -->
<!--  <div class="edit-this-page"><a href="file:///usr/src/app/target/doc/components/celesta/target/antora/modules/ROOT/pages/1050_celesta_sql.adoc">Редактировать страницу</a></div>-->
<!--  -->
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Содержание" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Язык Celesta-SQL</h1>
<div class="sect1">
<h2 id="_язык_celestasql_определения_объектов_базы_данных">
<a class="anchor" href="#_%D1%8F%D0%B7%D1%8B%D0%BA_celestasql_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2_%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85"></a>1. Язык CelestaSQL определения объектов базы данных</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Внимание"></i>
</td>
<td class="content">
Скрипты на языке CelestaSQL должны иметь кодировку UTF-8.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>На языке Celesta SQL пишутся скрипты определения гранул.
Скрипт на языке CelestaSQL состоит из конструкций</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#create_schema_statement">CREATE GRAIN</a>,</p>
</li>
<li>
<p><a href="#create_sequence_statement">CREATE SEQUENCE</a>,</p>
</li>
<li>
<p><a href="#create_table_statement">CREATE TABLE</a>,</p>
</li>
<li>
<p><a href="#foreign_keys_statements">ALTER TABLE …​ ADD …​ FOREIGN KEY</a>,</p>
</li>
<li>
<p><a href="#create_index_statement">CREATE INDEX</a>,</p>
</li>
<li>
<p><a href="#create_view_statement">CREATE VIEW</a>,</p>
</li>
<li>
<p><a href="#create_materialized_view_statement">CREATE MATERIALIZED VIEW</a>,</p>
</li>
<li>
<p><a href="#create_function_statement">CREATE FUNCTION</a>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>в обязательном порядке разделённых точкой с запятой, начиная с <code>CREATE GRAIN</code>:</p>
</div>

        <div id="script" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="548" height="310" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="310" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 548 310" width="548">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="24" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="119" x="33" y="11"></rect>
<a xlink:href="1050_celesta_sql.html#create_grain" target="_parent"><text class="box_font link" x="92" y="30">create_grain</text></a>
<path d="M363,40 A15,15 0 0,1 363,10 H369 A15,15 0 0,1 369,40 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="366" y="30">;</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="154" x="236" y="49"></rect>
<a xlink:href="1050_celesta_sql.html#create_sequence" target="_parent"><text class="box_font link" x="313" y="68">create_sequence</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="119" x="236" y="87"></rect>
<a xlink:href="1050_celesta_sql.html#create_table" target="_parent"><text class="box_font link" x="295" y="106">create_table</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="149" x="236" y="124"></rect>
<a xlink:href="1050_celesta_sql.html#add_foreign_key" target="_parent"><text class="box_font link" x="310" y="143">add_foreign_key</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="122" x="236" y="161"></rect>
<a xlink:href="1050_celesta_sql.html#create_index" target="_parent"><text class="box_font link" x="297" y="180">create_index</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="114" x="236" y="198"></rect>
<a xlink:href="1050_celesta_sql.html#create_view" target="_parent"><text class="box_font link" x="293" y="217">create_view</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="222" x="236" y="235"></rect>
<a xlink:href="1050_celesta_sql.html#create_materialized_view" target="_parent"><text class="box_font link" x="347" y="254">create_materialized_view</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="143" x="236" y="272"></rect>
<a xlink:href="1050_celesta_sql.html#create_function" target="_parent"><text class="box_font link" x="307" y="291">create_function</text></a>
<line stroke="#000000" stroke-width="2" x1="188" x2="236" y1="62" y2="62"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="507" x2="394" y1="62" y2="62"></line>
<path d="M207,81 A19,19 0 0,0 188,62" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="226" x2="236" y1="100" y2="100"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="359" y1="100" y2="100"></line>
<path d="M207,81 A19,19 0 0,0 226,100" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M468,100 A19,19 0 0,0 487,81" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="226" x2="236" y1="137" y2="137"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="389" y1="137" y2="137"></line>
<path d="M207,118 A19,19 0 0,0 226,137" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M468,137 A19,19 0 0,0 487,118" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="226" x2="236" y1="174" y2="174"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="362" y1="174" y2="174"></line>
<path d="M207,155 A19,19 0 0,0 226,174" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M468,174 A19,19 0 0,0 487,155" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="226" x2="236" y1="211" y2="211"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="354" y1="211" y2="211"></line>
<path d="M207,192 A19,19 0 0,0 226,211" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M468,211 A19,19 0 0,0 487,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="226" x2="236" y1="248" y2="248"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="462" y1="248" y2="248"></line>
<path d="M207,229 A19,19 0 0,0 226,248" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M468,248 A19,19 0 0,0 487,229" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="226" x2="236" y1="285" y2="285"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="383" y1="285" y2="285"></line>
<path d="M207,266 A19,19 0 0,0 226,285" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M468,285 A19,19 0 0,0 487,266" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M506,62 A19,19 0 0,0 487,81" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="207" x2="207" y1="266" y2="81"></line>
<line stroke="#000000" stroke-width="2" x1="487" x2="487" y1="266" y2="81"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="188" x2="344" y1="24" y2="24"></line>
<line stroke="#000000" stroke-width="2" x1="384" x2="525" y1="24" y2="24"></line>
<line stroke="#000000" stroke-width="2" x1="169" x2="188" y1="24" y2="24"></line>
<path d="M188,24 A9,9 0 0,0 179,33" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="179" x2="179" y1="53" y2="47"></line>
<line stroke="#000000" stroke-width="2" x1="179" x2="179" y1="43" y2="33"></line>
<path d="M179,53 A9,9 0 0,0 188,62" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M515,33 A9,9 0 0,0 506,24" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="515" x2="515" y1="33" y2="39"></line>
<line stroke="#000000" stroke-width="2" x1="515" x2="515" y1="43" y2="53"></line>
<path d="M506,62 A9,9 0 0,0 515,53" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="506" x2="515" y1="24" y2="24"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="151" x2="165" y1="24" y2="24"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="24" y2="24"></line>
<circle cx="535" cy="24" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="514" x2="528" y1="24" y2="24"></line>
</svg>

            </object>
          </div>
        </div>
</div>
</div>
<div class="sect1">
<h2 id="_комментарии_в_языке_celestasql">
<a class="anchor" href="#_%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B8_%D0%B2_%D1%8F%D0%B7%D1%8B%D0%BA%D0%B5_celestasql"></a>2. Комментарии в языке CelestaSQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CelestaSQL поддерживает стандартные однострочные и многострочные комментарии, а также комментарии <a href="1060_celesta_doc.html#CelestaDoc">CelestaDoc</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">-- однострочный комментарий
/*многострочный
    комментарий*/
 /**комментарий CelestaDoc*/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обычные комментарии могут использоваться в любом месте текста, комментарии CelestaDoc — только непосредственно перед определением гранулы, таблицы, поля или индекса.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_идентификаторы_объектов_в_языке_celestasql">
<a class="anchor" href="#_%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80%D1%8B_%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2_%D0%B2_%D1%8F%D0%B7%D1%8B%D0%BA%D0%B5_celestasql"></a>3. Идентификаторы объектов в языке CelestaSQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Идентификаторы объектов — это, иначе говоря, имена гранул, таблиц, полей, индексов, ограничений и представлений, их синтаксис в Celesta имеет ряд строгих ограничений.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В обычных СУБД дозволяется, чтобы идентификаторы объектов содержали знаки пробела и неалфавитные знаки, если эти имена заключены в обрамляющие символы, например «[]» для MS SQL Server.
Т. е. в MS SQLServer допустимо, например, такое имя таблицы: [Long Table$Name]. Celesta, однако, не может поддерживать пробелы и неалфавитные знаки в идентификаторах потому, что имя каждой Celesta-таблицы должно являться именем Java-класса, а имя каждого Celesta-поля — именем Java-переменной.
Поэтому идентификатор любого именованного объекта CelestaSQL должен как минимум удовлетворять правилам наименования переменной в Java, т. е. <strong>может состоять только из больших и малых букв латинского алфавита, цифр и знаков подчёркивания, при этом не может начинаться с цифры</strong>.</p>
</li>
<li>
<p><strong>Заключение идентификаторов Celesta в кавычки</strong> в скриптах CelestaSQL <strong>не допускается</strong> на уровне синтаксиса, т. к. практической надобности в этом нет (имена никогда не содержат пробелов).
На системном уровне при формировании запросов к СУБД Celesta, однако, всегда заключает имена своих объектов в прямые кавычки ("ANSI quotes"), чтобы гарантировать, что базы данных Oracle, PostgreSQL и H2 не будут нарушать регистр букв, составляющих идентификатор.</p>
</li>
<li>
<p><strong>Идентификаторы</strong> в Celesta <strong>являются чувствительными к регистру</strong>, однако нельзя создавать две таблицы, имена которых отличаются только регистром.</p>
</li>
<li>
<p><strong>Длина</strong> любого идентификатора в Celesta <strong>не может быть больше 30 символов</strong>.</p>
</li>
<li>
<p><strong>Идентификаторы (префиксы) гранул, кроме того, не могут содержать в себе знаков подчёркивания</strong>.
Это связано с тем, что комбинация имени гранулы со знаком подчёркивания и другим идентификатором зачастую используется во внутрисистемных целях Celesta, и запрет на использование знака подчёркивания в именах гранул необходим для исключения возможных неоднозначностей.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Замечание"></i>
</td>
<td class="content">
Обычной практикой является написание идентификаторов в CelestaSQL в "snake_case" — в процессе трансформации в Java-классы они конвертируются в 'CamelCase'.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_schema_statement">
<a class="anchor" href="#create_schema_statement"></a>4. Конструкция CREATE SCHEMA (GRAIN)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>С выражения <code>CREATE SCHEMA</code> должен начинаться любой скрипт определения гранулы.
Используется следующий синтаксис (слова <code>GRAIN</code> и <code>SCHEMA</code> являются синонимами):</p>
</div>

        <div id="create_grain" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="604" height="365" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="365" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 604 365" width="604">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M201,78 A14,14 0 0,1 201,50 H250 A14,14 0 0,1 250,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="225" y="69">GRAIN</text>
<path d="M201,116 A14,14 0 0,1 201,88 H266 A14,14 0 0,1 266,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="233" y="107">SCHEMA</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="139" x2="183" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="264" x2="329" y1="63" y2="63"></line>
<path d="M158,82 A19,19 0 0,0 139,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="177" x2="183" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="280" x2="290" y1="101" y2="101"></line>
<path d="M158,82 A19,19 0 0,0 177,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M290,101 A19,19 0 0,0 309,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M328,63 A19,19 0 0,0 309,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="158" x2="158" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="309" x2="309" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M352,78 H458 L465,64 L458,50 H352 L345,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="405" y="69">grain_name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="327" x2="341" y1="63" y2="63"></line>
<path d="M174,223 A14,14 0 0,1 174,195 H243 A14,14 0 0,1 243,223 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="208" y="214">VERSION</text>
<path d="M289,224 A15,15 0 0,1 289,194 H294 A15,15 0 0,1 294,224 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="291" y="214">'</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="256" x2="270" y1="208" y2="208"></line>
<path d="M333,223 H488 L495,209 L488,195 H333 L326,209 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="410" y="214">grain_version_tag</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="308" x2="322" y1="208" y2="208"></line>
<path d="M527,224 A15,15 0 0,1 527,194 H532 A15,15 0 0,1 532,224 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="529" y="214">'</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="494" x2="508" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="465" x2="503" y1="63" y2="63"></line>
<path d="M512,72 A9,9 0 0,0 503,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="512" x2="512" y1="72" y2="105"></line>
<line stroke="#000000" stroke-width="2" x1="512" x2="512" y1="109" y2="146"></line>
<path d="M503,155 A9,9 0 0,0 512,146" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="503" x2="316" y1="155" y2="155"></line>
<line stroke="#000000" stroke-width="2" x1="312" x2="122" y1="155" y2="155"></line>
<path d="M122,155 A9,9 0 0,0 113,164" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="164" y2="177"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="181" y2="199"></line>
<path d="M113,199 A9,9 0 0,0 122,208" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="351" x2="352" y1="302" y2="302"></line>
<path d="M222,355 A14,14 0 0,1 222,327 H263 A14,14 0 0,1 263,355 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="242" y="346">WITH</text>
<path d="M308,355 A14,14 0 0,1 308,327 H331 A14,14 0 0,1 331,355 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="319" y="346">NO</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="276" x2="290" y1="340" y2="340"></line>
<path d="M376,355 A14,14 0 0,1 376,327 H481 A14,14 0 0,1 481,355 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="428" y="346">AUTOUPDATE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="344" x2="358" y1="340" y2="340"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="160" x2="347" y1="302" y2="302"></line>
<line stroke="#000000" stroke-width="2" x1="352" x2="544" y1="302" y2="302"></line>
<path d="M179,321 A19,19 0 0,0 160,302" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="198" x2="204" y1="340" y2="340"></line>
<line stroke="#000000" stroke-width="2" x1="495" x2="505" y1="340" y2="340"></line>
<path d="M179,321 A19,19 0 0,0 198,340" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M505,340 A19,19 0 0,0 524,321" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M543,302 A19,19 0 0,0 524,321" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="179" x2="179" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="524" x2="524" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="547" x2="585" y1="208" y2="208"></line>
<path d="M594,217 A9,9 0 0,0 585,208" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="594" x2="594" y1="217" y2="231"></line>
<line stroke="#000000" stroke-width="2" x1="594" x2="594" y1="235" y2="254"></line>
<path d="M585,263 A9,9 0 0,0 594,254" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="585" x2="357" y1="263" y2="263"></line>
<line stroke="#000000" stroke-width="2" x1="353" x2="122" y1="263" y2="263"></line>
<path d="M122,263 A9,9 0 0,0 113,272" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="272" y2="278"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="282" y2="293"></line>
<path d="M113,293 A9,9 0 0,0 122,302" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="302" y2="302"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="563" cy="302" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="542" x2="556" y1="302" y2="302"></line>
<text class="title_font" x="103" y="28">create_grain</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Опция <code>WITH NO AUTOUPDATE</code> исключает схему целиком из процесса автообновления базы данных.
Как и соответствующая <a href="#celestasql_with_options">опция таблицы</a>, может быть использована в ситуации, когда структура схемы находится под внешним управлением.</p>
</div>
<div class="paragraph">
<p>Указание версии обязательно для исключения непроизвольного автоматического даунгрейда базы данных при запуске старой версии гранулы на более свежей версии базы данных.</p>
</div>
<div id="version_tags" class="paragraph">
<p>Версия состоит из перечисленных через запятую компонент и может выглядеть таким образом: <code>1.23,TITAN3.34</code>.
Читать это нужно следующим образом: базовая версия 1.23, доработка для проекта TITAN – 3.34.
Регулярное выражение для проверки формата компонента: <code>([A-Z_]*)([0-9]+\\.[0-9]+)</code>.
Требуется, чтобы каждая из составляющих версии имела двухкомпонентный (и только  двухкомпонентный!) формат, а префикс либо отсутствовал, либо состоял из заглавных латинских букв и знака подчёркивания.
Когда  система определяет возможность автоапгрейда, сравниваются все тэги версии последовательно.</p>
</div>
<div class="paragraph">
<p>В этом смысле, по отношению к тэгу «1.23,TITAN3.34»:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>«1.23,TITAN3.35» – более свежая версия (обновилась модификация), можно выполнять автоапгрейд</p>
</li>
<li>
<p>«1.24,TITAN3.34» – более свежая версия (обновилась базовая версия), можно выполнять автоапгрейд</p>
</li>
<li>
<p>«1.23,TITAN3.34,PLUTO1.00» – более свежая версия (добавилась ещё одна модификация), можно выполнять автоапгрейд</p>
</li>
<li>
<p>«TITAN3.34,1.23» – та же самая версия (порядок следования тэгов не играет роли), автоапгрейд выполняться будет лишь при несовпадении контрольных сумм, ошибки не произойдёт</p>
</li>
<li>
<p>«1.22,TITAN3.34» – более старая базовая версия, автоапгрейд выполняться не будет, произойдёт ошибка и Celesta остановится.</p>
</li>
<li>
<p>«1.22,TITAN3.36» – несогласующаяся версия, апдейт выполняться не будет, ошибка.
Версии «1.23,PLUTO1.00», «1.25» также будут несогласующимся с версией «1.23,TITAN3.34» и не станут накатываться автоматически.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Каждая из версий сравнивается, как число с плавающей запятой.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_sequence_statement">
<a class="anchor" href="#create_sequence_statement"></a>5. Конструкция CREATE SEQUENCE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Используется следующий синтаксис:</p>
</div>

        <div id="create_sequence" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="658" height="352" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="352" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 658 352" width="658">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M153,78 A14,14 0 0,1 153,50 H237 A14,14 0 0,1 237,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="195" y="69">SEQUENCE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M275,78 H416 L423,64 L416,50 H275 L268,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="345" y="69">sequence_name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="250" x2="264" y1="63" y2="63"></line>
<path d="M241,184 A14,14 0 0,1 241,156 H291 A14,14 0 0,1 291,184 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="266" y="175">START</text>
<path d="M336,184 A14,14 0 0,1 336,156 H377 A14,14 0 0,1 377,184 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="356" y="175">WITH</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="304" x2="318" y1="169" y2="169"></line>
<path d="M415,184 H541 L548,170 L541,156 H415 L408,170 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="478" y="175">integer_literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="390" x2="404" y1="169" y2="169"></line>
<path d="M241,222 A14,14 0 0,1 241,194 H332 A14,14 0 0,1 332,222 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="286" y="213">INCREMENT</text>
<path d="M377,222 A14,14 0 0,1 377,194 H397 A14,14 0 0,1 397,222 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="387" y="213">BY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="345" x2="359" y1="207" y2="207"></line>
<path d="M435,222 H561 L568,208 L561,194 H435 L428,208 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="498" y="213">integer_literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="410" x2="424" y1="207" y2="207"></line>
<path d="M241,259 A14,14 0 0,1 241,231 H321 A14,14 0 0,1 321,259 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="281" y="250">MINVALUE</text>
<path d="M359,259 H485 L492,245 L485,231 H359 L352,245 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="422" y="250">integer_literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="334" x2="348" y1="244" y2="244"></line>
<path d="M241,296 A14,14 0 0,1 241,268 H326 A14,14 0 0,1 326,296 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="283" y="287">MAXVALUE</text>
<path d="M364,296 H490 L497,282 L490,268 H364 L357,282 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="427" y="287">integer_literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="339" x2="353" y1="281" y2="281"></line>
<path d="M241,333 A14,14 0 0,1 241,305 H290 A14,14 0 0,1 290,333 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="265" y="324">CYCLE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="179" x2="223" y1="169" y2="169"></line>
<line stroke="#000000" stroke-width="2" x1="548" x2="617" y1="169" y2="169"></line>
<path d="M198,188 A19,19 0 0,0 179,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="217" x2="223" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="568" x2="578" y1="207" y2="207"></line>
<path d="M198,188 A19,19 0 0,0 217,207" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M578,207 A19,19 0 0,0 597,188" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="217" x2="223" y1="244" y2="244"></line>
<line stroke="#000000" stroke-width="2" x1="492" x2="578" y1="244" y2="244"></line>
<path d="M198,225 A19,19 0 0,0 217,244" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M578,244 A19,19 0 0,0 597,225" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="217" x2="223" y1="281" y2="281"></line>
<line stroke="#000000" stroke-width="2" x1="497" x2="578" y1="281" y2="281"></line>
<path d="M198,262 A19,19 0 0,0 217,281" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M578,281 A19,19 0 0,0 597,262" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="217" x2="223" y1="318" y2="318"></line>
<line stroke="#000000" stroke-width="2" x1="304" x2="578" y1="318" y2="318"></line>
<path d="M198,299 A19,19 0 0,0 217,318" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M578,318 A19,19 0 0,0 597,299" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M616,169 A19,19 0 0,0 597,188" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="198" x2="198" y1="299" y2="188"></line>
<line stroke="#000000" stroke-width="2" x1="597" x2="597" y1="299" y2="188"></line>
<line stroke="#000000" stroke-width="2" x1="397" x2="398" y1="342" y2="342"></line>
<line stroke="#000000" stroke-width="2" x1="179" x2="397" y1="342" y2="342"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="616" x2="402" y1="342" y2="342"></line>
<line stroke="#000000" stroke-width="2" x1="160" x2="179" y1="169" y2="169"></line>
<path d="M179,169 A9,9 0 0,0 170,178" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="170" x2="170" y1="333" y2="259"></line>
<line stroke="#000000" stroke-width="2" x1="170" x2="170" y1="255" y2="178"></line>
<path d="M170,333 A9,9 0 0,0 179,342" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M625,178 A9,9 0 0,0 616,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="625" x2="625" y1="178" y2="251"></line>
<line stroke="#000000" stroke-width="2" x1="625" x2="625" y1="255" y2="333"></line>
<path d="M616,342 A9,9 0 0,0 625,333" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="616" x2="625" y1="169" y2="169"></line>
<line stroke="#000000" stroke-width="2" x1="423" x2="461" y1="63" y2="63"></line>
<path d="M470,72 A9,9 0 0,0 461,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="470" x2="470" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="470" x2="470" y1="90" y2="108"></line>
<path d="M461,117 A9,9 0 0,0 470,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="461" x2="295" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="291" x2="122" y1="117" y2="117"></line>
<path d="M122,117 A9,9 0 0,0 113,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="143" y2="160"></line>
<path d="M113,160 A9,9 0 0,0 122,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="169" y2="169"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="645" cy="169" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="624" x2="638" y1="169" y2="169"></line>
<text class="title_font" x="127" y="28">create_sequence</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Основными ограничениями и отличиями этой конструкции от аналогичной конструкции в различных СУБД являются:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Если не указано значение <code>MINVALUE</code>, то оно автоматически выставляется равным значению <code>START WITH</code> (по умолчанию 1).</p>
</li>
<li>
<p>Если не указано значение <code>MAXVALUE</code>, то оно автоматически выставляется равным значению <code>Long.MAX_VALUE</code>.</p>
</li>
<li>
<p>Значение <code>START WITH</code> не обновляется для созданных ранее последовательностей, даже если было изменено в файле гранулы (связано с тем, что Oracle разрешает данную операцию только через удаление и пересоздание последовательности, а идеология Celesta не предусматривает удаление stateful объектов из БД).</p>
</li>
<li>
<p>Если в грануле присутствует таблица с именем, например, <code>A</code>, то является недопустимым создание последовательности с именем <code>A_seq</code>, так как это имя зарезервировано системой.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_table_statement">
<a class="anchor" href="#create_table_statement"></a>6. Конструкция CREATE TABLE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Используется следующий синтаксис:</p>
</div>

        <div id="create_table" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="727" height="234" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="234" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 727 234" width="727">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M153,78 A14,14 0 0,1 153,50 H202 A14,14 0 0,1 202,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="177" y="69">TABLE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M240,78 H346 L353,64 L346,50 H240 L233,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="293" y="69">table_name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="229" y1="63" y2="63"></line>
<path d="M175,186 A15,15 0 0,1 175,156 H182 A15,15 0 0,1 182,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="178" y="176">(</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="158" x="233" y="157"></rect>
<a xlink:href="1050_celesta_sql.html#table_constituent" target="_parent"><text class="box_font link" x="312" y="176">table_constituent</text></a>
<path d="M309,224 A15,15 0 0,1 309,194 H315 A15,15 0 0,1 315,224 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="312" y="214">,</text>
<line stroke="#000000" stroke-width="2" x1="233" x2="294" y1="208" y2="208"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="391" x2="334" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="214" x2="233" y1="170" y2="170"></line>
<path d="M233,170 A9,9 0 0,0 224,179" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="224" x2="224" y1="199" y2="193"></line>
<line stroke="#000000" stroke-width="2" x1="224" x2="224" y1="189" y2="179"></line>
<path d="M224,199 A9,9 0 0,0 233,208" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M400,179 A9,9 0 0,0 391,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="400" x2="400" y1="179" y2="185"></line>
<line stroke="#000000" stroke-width="2" x1="400" x2="400" y1="189" y2="199"></line>
<path d="M391,208 A9,9 0 0,0 400,199" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="391" x2="400" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="196" x2="210" y1="170" y2="170"></line>
<path d="M432,186 A15,15 0 0,1 432,156 H439 A15,15 0 0,1 439,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="435" y="176">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="399" x2="413" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="582" x2="583" y1="170" y2="170"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="127" x="519" y="195"></rect>
<a xlink:href="1050_celesta_sql.html#table_options" target="_parent"><text class="box_font link" x="582" y="214">table_options</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="471" x2="578" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="583" x2="695" y1="170" y2="170"></line>
<path d="M490,189 A19,19 0 0,0 471,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="509" x2="515" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="646" x2="656" y1="208" y2="208"></line>
<path d="M490,189 A19,19 0 0,0 509,208" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M656,208 A19,19 0 0,0 675,189" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M694,170 A19,19 0 0,0 675,189" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="490" x2="490" y1="189" y2="189"></line>
<line stroke="#000000" stroke-width="2" x1="675" x2="675" y1="189" y2="189"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="453" x2="467" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="353" x2="391" y1="63" y2="63"></line>
<path d="M400,72 A9,9 0 0,0 391,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="400" x2="400" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="400" x2="400" y1="90" y2="108"></line>
<path d="M391,117 A9,9 0 0,0 400,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="391" x2="260" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="256" x2="122" y1="117" y2="117"></line>
<path d="M122,117 A9,9 0 0,0 113,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="143" y2="161"></line>
<path d="M113,161 A9,9 0 0,0 122,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="714" cy="170" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="693" x2="707" y1="170" y2="170"></line>
<text class="title_font" x="103" y="28">create_table</text>
</svg>

            </object>
          </div>
        </div>

        <div id="table_constituent" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="717" height="209" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="209" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 717 209" width="717">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="139" x="81" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#field_definition" target="_parent"><text class="box_font link" x="150" y="69">field_definition</text></a>
<path d="M133,116 A14,14 0 0,1 133,88 H234 A14,14 0 0,1 234,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="183" y="107">CONSTRAINT</text>
<path d="M272,116 H354 L361,102 L354,88 H272 L265,102 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="313" y="107">pk name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="247" x2="261" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="239" x2="240" y1="139" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="81" x2="119" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="361" x2="400" y1="101" y2="101"></line>
<path d="M100,120 A19,19 0 0,0 81,101" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="119" x2="235" y1="139" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="240" x2="361" y1="139" y2="139"></line>
<path d="M100,120 A19,19 0 0,0 119,139" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M361,139 A19,19 0 0,0 380,120" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M399,101 A19,19 0 0,0 380,120" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="100" x2="100" y1="120" y2="120"></line>
<line stroke="#000000" stroke-width="2" x1="380" x2="380" y1="120" y2="120"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="201" x="416" y="88"></rect>
<a xlink:href="1050_celesta_sql.html#primary_key_definition" target="_parent"><text class="box_font link" x="516" y="107">primary_key_definition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="398" x2="412" y1="101" y2="101"></line>
<path d="M133,176 A14,14 0 0,1 133,148 H234 A14,14 0 0,1 234,176 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="183" y="167">CONSTRAINT</text>
<path d="M272,176 H350 L357,162 L350,148 H272 L265,162 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="311" y="167">fk name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="247" x2="261" y1="161" y2="161"></line>
<line stroke="#000000" stroke-width="2" x1="237" x2="238" y1="199" y2="199"></line>
<line stroke="#000000" stroke-width="2" x1="81" x2="119" y1="161" y2="161"></line>
<line stroke="#000000" stroke-width="2" x1="357" x2="396" y1="161" y2="161"></line>
<path d="M100,180 A19,19 0 0,0 81,161" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="119" x2="233" y1="199" y2="199"></line>
<line stroke="#000000" stroke-width="2" x1="238" x2="357" y1="199" y2="199"></line>
<path d="M100,180 A19,19 0 0,0 119,199" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M357,199 A19,19 0 0,0 376,180" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M395,161 A19,19 0 0,0 376,180" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="100" x2="100" y1="180" y2="180"></line>
<line stroke="#000000" stroke-width="2" x1="376" x2="376" y1="180" y2="180"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="196" x="412" y="148"></rect>
<a xlink:href="1050_celesta_sql.html#foreign_key_definition" target="_parent"><text class="box_font link" x="510" y="167">foreign_key_definition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="394" x2="408" y1="161" y2="161"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="33" x2="77" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="220" x2="685" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="617" x2="646" y1="101" y2="101"></line>
<path d="M52,82 A19,19 0 0,0 71,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M646,101 A19,19 0 0,0 665,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="161" y2="161"></line>
<line stroke="#000000" stroke-width="2" x1="608" x2="646" y1="161" y2="161"></line>
<path d="M52,142 A19,19 0 0,0 71,161" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M646,161 A19,19 0 0,0 665,142" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M684,63 A19,19 0 0,0 665,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="142" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="665" x2="665" y1="142" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="704" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="683" x2="697" y1="63" y2="63"></line>
<text class="title_font" x="130" y="28">table_constituent</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Иными словами, в конструкции <code>CREATE TABLE</code> в скобках через запятую в любом порядке могут быть перечислены определения полей, определения первичных ключей или определения внешних ключей, а за скобками, возможно, перечислены опции.
На практике определения всех полей идут подряд в самом начале, далее — определения составных первичных ключей (первичные ключи, состоящие из одного поля, можно определять на самом поле) и определения составных внешний ключей (опять же, внешние ключи, состоящие из одного поля, можно определять на самом поле).</p>
</div>
<div class="sect2">
<h3 id="_определения_полей">
<a class="anchor" href="#_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D0%BE%D0%BB%D0%B5%D0%B9"></a>6.1. Определения полей</h3>

        <div id="field_definition" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="794" height="479" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="479" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 794 479" width="794">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M40,78 H138 L145,64 L138,50 H40 L33,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="89" y="69">field name</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="84" x="210" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#int_field" target="_parent"><text class="box_font link" x="252" y="69">int_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="124" x="210" y="88"></rect>
<a xlink:href="1050_celesta_sql.html#floating_field" target="_parent"><text class="box_font link" x="272" y="107">floating_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="125" x="210" y="125"></rect>
<a xlink:href="1050_celesta_sql.html#decimal_field" target="_parent"><text class="box_font link" x="272" y="144">decimal_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="95" x="210" y="162"></rect>
<a xlink:href="1050_celesta_sql.html#text_field" target="_parent"><text class="box_font link" x="257" y="181">text_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="97" x="210" y="199"></rect>
<a xlink:href="1050_celesta_sql.html#blob_field" target="_parent"><text class="box_font link" x="258" y="218">blob_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="134" x="210" y="236"></rect>
<a xlink:href="1050_celesta_sql.html#datetime_field" target="_parent"><text class="box_font link" x="277" y="255">datetime_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="265" x="210" y="273"></rect>
<a xlink:href="1050_celesta_sql.html#datetime_with_time_zone_field" target="_parent"><text class="box_font link" x="342" y="292">datetime_with_time_zone_field</text></a>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="84" x="210" y="310"></rect>
<a xlink:href="1050_celesta_sql.html#bit_field" target="_parent"><text class="box_font link" x="252" y="329">bit_field</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="162" x2="206" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="294" x2="524" y1="63" y2="63"></line>
<path d="M181,82 A19,19 0 0,0 162,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="334" x2="485" y1="101" y2="101"></line>
<path d="M181,82 A19,19 0 0,0 200,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,101 A19,19 0 0,0 504,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="138" y2="138"></line>
<line stroke="#000000" stroke-width="2" x1="335" x2="485" y1="138" y2="138"></line>
<path d="M181,119 A19,19 0 0,0 200,138" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,138 A19,19 0 0,0 504,119" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="175" y2="175"></line>
<line stroke="#000000" stroke-width="2" x1="305" x2="485" y1="175" y2="175"></line>
<path d="M181,156 A19,19 0 0,0 200,175" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,175 A19,19 0 0,0 504,156" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="212" y2="212"></line>
<line stroke="#000000" stroke-width="2" x1="307" x2="485" y1="212" y2="212"></line>
<path d="M181,193 A19,19 0 0,0 200,212" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,212 A19,19 0 0,0 504,193" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="249" y2="249"></line>
<line stroke="#000000" stroke-width="2" x1="344" x2="485" y1="249" y2="249"></line>
<path d="M181,230 A19,19 0 0,0 200,249" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,249 A19,19 0 0,0 504,230" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="286" y2="286"></line>
<line stroke="#000000" stroke-width="2" x1="475" x2="485" y1="286" y2="286"></line>
<path d="M181,267 A19,19 0 0,0 200,286" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,286 A19,19 0 0,0 504,267" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="206" y1="323" y2="323"></line>
<line stroke="#000000" stroke-width="2" x1="294" x2="485" y1="323" y2="323"></line>
<path d="M181,304 A19,19 0 0,0 200,323" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M485,323 A19,19 0 0,0 504,304" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M523,63 A19,19 0 0,0 504,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="181" x2="181" y1="304" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="504" x2="504" y1="304" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="144" x2="158" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="344" x2="345" y1="416" y2="416"></line>
<path d="M273,469 A14,14 0 0,1 273,441 H342 A14,14 0 0,1 342,469 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="307" y="460">PRIMARY</text>
<path d="M387,469 A14,14 0 0,1 387,441 H416 A14,14 0 0,1 416,469 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="401" y="460">KEY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="355" x2="369" y1="454" y2="454"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="211" x2="340" y1="416" y2="416"></line>
<line stroke="#000000" stroke-width="2" x1="345" x2="479" y1="416" y2="416"></line>
<path d="M230,435 A19,19 0 0,0 211,416" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="249" x2="255" y1="454" y2="454"></line>
<line stroke="#000000" stroke-width="2" x1="430" x2="440" y1="454" y2="454"></line>
<path d="M230,435 A19,19 0 0,0 249,454" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M440,454 A19,19 0 0,0 459,435" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M478,416 A19,19 0 0,0 459,435" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="230" x2="230" y1="435" y2="435"></line>
<line stroke="#000000" stroke-width="2" x1="459" x2="459" y1="435" y2="435"></line>
<line stroke="#000000" stroke-width="2" x1="627" x2="628" y1="416" y2="416"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="170" x="543" y="441"></rect>
<a xlink:href="1050_celesta_sql.html#inline_fk_definition" target="_parent"><text class="box_font link" x="628" y="460">inline_fk_definition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="495" x2="623" y1="416" y2="416"></line>
<line stroke="#000000" stroke-width="2" x1="628" x2="762" y1="416" y2="416"></line>
<path d="M514,435 A19,19 0 0,0 495,416" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="533" x2="539" y1="454" y2="454"></line>
<line stroke="#000000" stroke-width="2" x1="713" x2="723" y1="454" y2="454"></line>
<path d="M514,435 A19,19 0 0,0 533,454" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M723,454 A19,19 0 0,0 742,435" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M761,416 A19,19 0 0,0 742,435" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="514" x2="514" y1="435" y2="435"></line>
<line stroke="#000000" stroke-width="2" x1="742" x2="742" y1="435" y2="435"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="477" x2="491" y1="416" y2="416"></line>
<line stroke="#000000" stroke-width="2" x1="523" x2="561" y1="63" y2="63"></line>
<path d="M570,72 A9,9 0 0,0 561,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="570" x2="570" y1="72" y2="216"></line>
<line stroke="#000000" stroke-width="2" x1="570" x2="570" y1="220" y2="368"></line>
<path d="M561,377 A9,9 0 0,0 570,368" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="561" x2="371" y1="377" y2="377"></line>
<line stroke="#000000" stroke-width="2" x1="367" x2="173" y1="377" y2="377"></line>
<path d="M173,377 A9,9 0 0,0 164,386" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="164" x2="164" y1="386" y2="392"></line>
<line stroke="#000000" stroke-width="2" x1="164" x2="164" y1="396" y2="407"></line>
<path d="M164,407 A9,9 0 0,0 173,416" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="173" x2="207" y1="416" y2="416"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="781" cy="416" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="760" x2="774" y1="416" y2="416"></line>
<text class="title_font" x="116" y="28">field_definition</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p><strong>field_definition</strong> (Определение поля) — конструкция, задающая тип поля, название поля, его свойства <code>NULL</code>/<code>NOT NULL</code> и <code>DEFAULT</code>, опционально может заканчиваться конструкцией <code>PRIMARY KEY</code> и/или <code>FOREIGN KEY</code>.</p>
</div>
<div class="paragraph">
<p>Сокращенное определение внешнего ключа (<strong>inline_fk_definition</strong>) имеет следующий синтаксис:</p>
</div>

        <div id="inline_fk_definition" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="516" height="196" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="196" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 516 196" width="516">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H117 A14,14 0 0,1 117,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="82" y="69">FOREIGN</text>
<path d="M162,78 A14,14 0 0,1 162,50 H191 A14,14 0 0,1 191,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="176" y="69">KEY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="130" x2="144" y1="63" y2="63"></line>
<path d="M236,78 A14,14 0 0,1 236,50 H338 A14,14 0 0,1 338,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="287" y="69">REFERENCES</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="204" x2="218" y1="63" y2="63"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="90" x="369" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#table_ref" target="_parent"><text class="box_font link" x="414" y="69">table_ref</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="351" x2="365" y1="63" y2="63"></line>
<path d="M125,186 A15,15 0 0,1 125,156 H132 A15,15 0 0,1 132,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="128" y="176">(</text>
<path d="M171,185 H269 L276,171 L269,157 H171 L164,171 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="220" y="176">field name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="146" x2="160" y1="170" y2="170"></line>
<path d="M308,186 A15,15 0 0,1 308,156 H315 A15,15 0 0,1 315,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="311" y="176">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="275" x2="289" y1="170" y2="170"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="82" x="347" y="157"></rect>
<a xlink:href="1050_celesta_sql.html#fk_rules" target="_parent"><text class="box_font link" x="388" y="176">fk_rules</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="329" x2="343" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="459" x2="497" y1="63" y2="63"></line>
<path d="M506,72 A9,9 0 0,0 497,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="506" x2="506" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="506" x2="506" y1="90" y2="108"></line>
<path d="M497,117 A9,9 0 0,0 506,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="497" x2="288" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="284" x2="72" y1="117" y2="117"></line>
<path d="M72,117 A9,9 0 0,0 63,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="63" x2="63" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="63" x2="63" y1="143" y2="161"></line>
<path d="M63,161 A9,9 0 0,0 72,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="72" x2="106" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="449" cy="170" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="428" x2="442" y1="170" y2="170"></line>
<text class="title_font" x="138" y="28">inline_fk_definition</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Здесь <strong>table_ref</strong> — ссылка на таблицу, которая может быть однокомпонентной (если таблица, на которую указывает внешний ключ, находится в текущей грануле) или двухкомпонентной, с явным указанием имени гранулы:</p>
</div>

        <div id="table_ref" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="447" height="111" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="111" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 447 111" width="447">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M78,78 H182 L189,64 L182,50 H78 L71,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="130" y="69">grain name</text>
<path d="M221,79 A15,15 0 0,1 221,49 H227 A15,15 0 0,1 227,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="224" y="69">.</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="188" x2="202" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="156" x2="157" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="33" x2="71" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="242" x2="281" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="152" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="157" x2="242" y1="101" y2="101"></line>
<path d="M52,82 A19,19 0 0,0 71,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M242,101 A19,19 0 0,0 261,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M280,63 A19,19 0 0,0 261,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="261" x2="261" y1="82" y2="82"></line>
<path d="M304,78 H407 L414,64 L407,50 H304 L297,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="355" y="69">table name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="279" x2="293" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="434" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="413" x2="427" y1="63" y2="63"></line>
<text class="title_font" x="83" y="28">table_ref</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Определение синтаксиса правил внешних ключей (<strong>fk_rules</strong>) см. в разделе <a href="#foreign_keys_statements">«Внешние ключи»</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="datatypes_mapping">
<a class="anchor" href="#datatypes_mapping"></a>6.2. Типы данных</h3>
<div class="paragraph">
<p>Используется следующая система типов данных.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle"></th>
<th class="tableblock halign-center valign-middle">Celesta</th>
<th class="tableblock halign-center valign-middle">Microsoft SQL Server</th>
<th class="tableblock halign-center valign-middle">Oracle</th>
<th class="tableblock halign-center valign-middle">PostgreSQL</th>
<th class="tableblock halign-center valign-middle">Firebird</th>
<th class="tableblock halign-center valign-middle">H2</th>
<th class="tableblock halign-center valign-middle">Java type for cursor</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (32-bit)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUMBER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Floating point (64-bit)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLOAT(53)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLOAT8
[= DOUBLE PRECISION]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE PRECISION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ava.lang.Double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed point (decimal)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DECIMAL(p,s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DECIMAL(p,s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUMBER(p,s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUMERIC(p,s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DECIMAL(p,s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DECIMAL(p,s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.math.BigDecimal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String (Unicode)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR(n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NVARCHAR(n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NVARCHAR(n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR(n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR(n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARCHAR(n)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long string (Unicode)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NVARCHAR(MAX)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NCLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB SUB_TYPE TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARBINARY(MAX)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BYTEA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VARBINARY(MAX)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date/time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.util.Date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date/time with time zone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIME WITH TIME ZONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIMEOFFSET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP WITH TIME ZONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMPZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP WITH TIME ZONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TIMESTAMP WITH TIME ZONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.time.ZonedDateTime</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUMBER
[check in (0, 1)]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SMALLINT
[check in (0, 1)]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Boolean</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>См. также раздел «<a href="#RDBMS_peculiarities">Особенности работы Celesta с поддерживаемыми типами СУБД</a>».</p>
</div>
<div class="paragraph">
<p>Для каждого типа поля имеется свой вариант определения:</p>
</div>

        <div id="nullability" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="383" height="120" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="120" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 383 120" width="383">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M123,78 A14,14 0 0,1 123,50 H156 A14,14 0 0,1 156,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="139" y="69">NOT</text>
<line stroke="#000000" stroke-width="2" x1="139" x2="140" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="71" x2="109" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="170" x2="209" y1="63" y2="63"></line>
<path d="M90,82 A19,19 0 0,0 71,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="109" x2="135" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="140" x2="170" y1="101" y2="101"></line>
<path d="M90,82 A19,19 0 0,0 109,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M170,101 A19,19 0 0,0 189,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M208,63 A19,19 0 0,0 189,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="90" x2="90" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="189" x2="189" y1="82" y2="82"></line>
<path d="M239,78 A14,14 0 0,1 239,50 H279 A14,14 0 0,1 279,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="259" y="69">NULL</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="207" x2="221" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="191" x2="192" y1="110" y2="110"></line>
<line stroke="#000000" stroke-width="2" x1="33" x2="71" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="293" x2="351" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="187" y1="110" y2="110"></line>
<line stroke="#000000" stroke-width="2" x1="192" x2="312" y1="110" y2="110"></line>
<path d="M52,91 A19,19 0 0,0 71,110" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M312,110 A19,19 0 0,0 331,91" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M350,63 A19,19 0 0,0 331,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="91" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="331" x2="331" y1="91" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="370" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="349" x2="363" y1="63" y2="63"></line>
<text class="title_font" x="89" y="28">nullability</text>
</svg>

            </object>
          </div>
        </div>

        <div id="int_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="935" height="136" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="136" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 935 136" width="935">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H73 A14,14 0 0,1 73,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="60" y="69">INT</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="104" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="153" y="69">nullability</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="86" x2="100" y1="63" y2="63"></line>
<path d="M272,78 A14,14 0 0,1 272,50 H342 A14,14 0 0,1 342,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="307" y="69">DEFAULT</text>
<path d="M428,78 H551 L558,64 L551,50 H428 L421,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="489" y="69">integer literal</text>
<path d="M435,116 A14,14 0 0,1 435,88 H506 A14,14 0 0,1 506,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="470" y="107">NEXTVAL</text>
<path d="M552,117 A15,15 0 0,1 552,87 H559 A15,15 0 0,1 559,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="555" y="107">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="519" x2="533" y1="101" y2="101"></line>
<path d="M598,116 H736 L743,102 L736,88 H598 L591,102 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="667" y="107">sequence name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="573" x2="587" y1="101" y2="101"></line>
<path d="M775,117 A15,15 0 0,1 775,87 H782 A15,15 0 0,1 782,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="778" y="107">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="742" x2="756" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="373" x2="417" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="558" x2="846" y1="63" y2="63"></line>
<path d="M392,82 A19,19 0 0,0 373,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="411" x2="417" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="797" x2="807" y1="101" y2="101"></line>
<path d="M392,82 A19,19 0 0,0 411,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M807,101 A19,19 0 0,0 826,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M845,63 A19,19 0 0,0 826,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="392" x2="392" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="826" x2="826" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="355" x2="369" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="560" x2="561" y1="126" y2="126"></line>
<line stroke="#000000" stroke-width="2" x1="220" x2="258" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="845" x2="903" y1="63" y2="63"></line>
<path d="M239,82 A19,19 0 0,0 220,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="258" x2="556" y1="126" y2="126"></line>
<line stroke="#000000" stroke-width="2" x1="561" x2="864" y1="126" y2="126"></line>
<path d="M239,107 A19,19 0 0,0 258,126" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M864,126 A19,19 0 0,0 883,107" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M902,63 A19,19 0 0,0 883,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="239" x2="239" y1="107" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="883" x2="883" y1="107" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="202" x2="216" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="922" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="901" x2="915" y1="63" y2="63"></line>
<text class="title_font" x="79" y="28">int_field</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Вместо конструкции <code>DEFAULT &lt;целое число&gt;</code> для поля с типом <code>INT</code> может использоваться конструкция <code>NEXTVAL(&lt;sequence name&gt;)</code>.
Таким образом значение колонки будет инкрементироваться при вставке в зависимости от указанной последовательности.
Стоит отметить, что можно использовать только последовательности, объявленные в той же грануле, что и таблица, к которой принадлежит колонка.</p>
</div>

        <div id="floating_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="626" height="111" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="111" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 626 111" width="626">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H86 A14,14 0 0,1 86,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="66" y="69">REAL</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="117" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="166" y="69">nullability</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="99" x2="113" y1="63" y2="63"></line>
<path d="M285,78 A14,14 0 0,1 285,50 H355 A14,14 0 0,1 355,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="320" y="69">DEFAULT</text>
<path d="M393,78 H548 L555,64 L548,50 H393 L386,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="470" y="69">float.-point literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="368" x2="382" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="412" x2="413" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="233" x2="271" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="555" x2="594" y1="63" y2="63"></line>
<path d="M252,82 A19,19 0 0,0 233,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="271" x2="408" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="413" x2="555" y1="101" y2="101"></line>
<path d="M252,82 A19,19 0 0,0 271,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M555,101 A19,19 0 0,0 574,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M593,63 A19,19 0 0,0 574,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="252" x2="252" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="574" x2="574" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="229" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="613" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="592" x2="606" y1="63" y2="63"></line>
<text class="title_font" x="106" y="28">floating_field</text>
</svg>

            </object>
          </div>
        </div>

        <div id="decimal_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="669" height="218" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="218" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 669 218" width="669">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H116 A14,14 0 0,1 116,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="81" y="69">DECIMAL</text>
<path d="M162,79 A15,15 0 0,1 162,49 H169 A15,15 0 0,1 169,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="165" y="69">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="129" x2="143" y1="63" y2="63"></line>
<path d="M208,78 H331 L338,64 L331,50 H208 L201,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="269" y="69">integer literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="183" x2="197" y1="63" y2="63"></line>
<path d="M370,79 A15,15 0 0,1 370,49 H376 A15,15 0 0,1 376,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="373" y="69">,</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="337" x2="351" y1="63" y2="63"></line>
<path d="M415,78 H538 L545,64 L538,50 H415 L408,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="476" y="69">integer literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="390" x2="404" y1="63" y2="63"></line>
<path d="M577,79 A15,15 0 0,1 577,49 H584 A15,15 0 0,1 584,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="580" y="69">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="544" x2="558" y1="63" y2="63"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="160" y="157"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="209" y="176">nullability</text></a>
<path d="M328,185 A14,14 0 0,1 328,157 H398 A14,14 0 0,1 398,185 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="363" y="176">DEFAULT</text>
<path d="M436,185 H591 L598,171 L591,157 H436 L429,171 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="513" y="176">float.-point literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="411" x2="425" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="455" x2="456" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="276" x2="314" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="598" x2="637" y1="170" y2="170"></line>
<path d="M295,189 A19,19 0 0,0 276,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="314" x2="451" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="456" x2="598" y1="208" y2="208"></line>
<path d="M295,189 A19,19 0 0,0 314,208" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M598,208 A19,19 0 0,0 617,189" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M636,170 A19,19 0 0,0 617,189" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="295" x2="295" y1="189" y2="189"></line>
<line stroke="#000000" stroke-width="2" x1="617" x2="617" y1="189" y2="189"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="258" x2="272" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="599" x2="637" y1="63" y2="63"></line>
<path d="M646,72 A9,9 0 0,0 637,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="646" x2="646" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="646" x2="646" y1="90" y2="109"></line>
<path d="M637,118 A9,9 0 0,0 646,109" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="637" x2="383" y1="118" y2="118"></line>
<line stroke="#000000" stroke-width="2" x1="379" x2="122" y1="118" y2="118"></line>
<path d="M122,118 A9,9 0 0,0 113,127" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="127" y2="140"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="144" y2="161"></line>
<path d="M113,161 A9,9 0 0,0 122,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="656" cy="170" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="635" x2="649" y1="170" y2="170"></line>
<text class="title_font" x="107" y="28">decimal_field</text>
</svg>

            </object>
          </div>
        </div>

        <div id="text_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="731" height="255" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="255" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 731 255" width="731">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M85,78 A14,14 0 0,1 85,50 H160 A14,14 0 0,1 160,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="122" y="69">VARCHAR</text>
<path d="M206,79 A15,15 0 0,1 206,49 H213 A15,15 0 0,1 213,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="209" y="69">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="173" x2="187" y1="63" y2="63"></line>
<path d="M252,78 H375 L382,64 L375,50 H252 L245,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="313" y="69">integer literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="227" x2="241" y1="63" y2="63"></line>
<path d="M414,79 A15,15 0 0,1 414,49 H421 A15,15 0 0,1 421,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="417" y="69">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="381" x2="395" y1="63" y2="63"></line>
<path d="M95,116 A14,14 0 0,1 95,88 H134 A14,14 0 0,1 134,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="114" y="107">TEXT</text>
<line stroke="#000000" stroke-width="2" x1="33" x2="71" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="436" x2="475" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="148" x2="436" y1="101" y2="101"></line>
<path d="M52,82 A19,19 0 0,0 71,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M436,101 A19,19 0 0,0 455,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M474,63 A19,19 0 0,0 455,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="455" x2="455" y1="82" y2="82"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="279" y="194"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="328" y="213">nullability</text></a>
<path d="M447,222 A14,14 0 0,1 447,194 H517 A14,14 0 0,1 517,222 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="482" y="213">DEFAULT</text>
<path d="M555,222 H653 L660,208 L653,194 H555 L548,208 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="604" y="213">text literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="530" x2="544" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="546" x2="547" y1="245" y2="245"></line>
<line stroke="#000000" stroke-width="2" x1="395" x2="433" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="660" x2="699" y1="207" y2="207"></line>
<path d="M414,226 A19,19 0 0,0 395,207" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="433" x2="542" y1="245" y2="245"></line>
<line stroke="#000000" stroke-width="2" x1="547" x2="660" y1="245" y2="245"></line>
<path d="M414,226 A19,19 0 0,0 433,245" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M660,245 A19,19 0 0,0 679,226" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M698,207 A19,19 0 0,0 679,226" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="414" x2="414" y1="226" y2="226"></line>
<line stroke="#000000" stroke-width="2" x1="679" x2="679" y1="226" y2="226"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="377" x2="391" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="474" x2="512" y1="63" y2="63"></line>
<path d="M521,72 A9,9 0 0,0 512,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="521" x2="521" y1="72" y2="105"></line>
<line stroke="#000000" stroke-width="2" x1="521" x2="521" y1="109" y2="146"></line>
<path d="M512,155 A9,9 0 0,0 521,146" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="512" x2="380" y1="155" y2="155"></line>
<line stroke="#000000" stroke-width="2" x1="376" x2="241" y1="155" y2="155"></line>
<path d="M241,155 A9,9 0 0,0 232,164" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="232" x2="232" y1="164" y2="177"></line>
<line stroke="#000000" stroke-width="2" x1="232" x2="232" y1="181" y2="198"></line>
<path d="M232,198 A9,9 0 0,0 241,207" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="241" x2="275" y1="207" y2="207"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="718" cy="207" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="697" x2="711" y1="207" y2="207"></line>
<text class="title_font" x="86" y="28">text_field</text>
</svg>

            </object>
          </div>
        </div>

        <div id="blob_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="590" height="111" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="111" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 590 111" width="590">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H89 A14,14 0 0,1 89,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="68" y="69">BLOB</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="120" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="169" y="69">nullability</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="102" x2="116" y1="63" y2="63"></line>
<path d="M288,78 A14,14 0 0,1 288,50 H358 A14,14 0 0,1 358,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="323" y="69">DEFAULT</text>
<path d="M396,78 H512 L519,64 L512,50 H396 L389,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="454" y="69">binary literal</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="371" x2="385" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="396" x2="397" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="236" x2="274" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="519" x2="558" y1="63" y2="63"></line>
<path d="M255,82 A19,19 0 0,0 236,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="274" x2="392" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="397" x2="519" y1="101" y2="101"></line>
<path d="M255,82 A19,19 0 0,0 274,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M519,101 A19,19 0 0,0 538,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M557,63 A19,19 0 0,0 538,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="255" x2="255" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="538" x2="538" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="218" x2="232" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="577" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="556" x2="570" y1="63" y2="63"></line>
<text class="title_font" x="88" y="28">blob_field</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Здесь <strong>&lt;binary literal&gt;</strong> — шестнадцатеричное представление последовательности байтов, начинающееся с 0x и не заключённые в кавычки, например: 0xFFAAFFAAFF.</p>
</div>

        <div id="datetime_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="811" height="137" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="137" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 811 137" width="811">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H126 A14,14 0 0,1 126,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="86" y="69">DATETIME</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="157" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="206" y="69">nullability</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="139" x2="153" y1="63" y2="63"></line>
<path d="M325,78 A14,14 0 0,1 325,50 H395 A14,14 0 0,1 395,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="360" y="69">DEFAULT</text>
<path d="M479,79 A15,15 0 0,1 479,49 H484 A15,15 0 0,1 484,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="481" y="69">'</text>
<path d="M523,78 H624 L631,64 L624,50 H523 L516,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="573" y="69">YYYYMMDD</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="498" x2="512" y1="63" y2="63"></line>
<path d="M663,79 A15,15 0 0,1 663,49 H668 A15,15 0 0,1 668,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="665" y="69">'</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="630" x2="644" y1="63" y2="63"></line>
<path d="M489,118 A15,15 0 0,1 489,88 H585 A15,15 0 0,1 585,118 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="537" y="108">GETDATE()</text>
<line stroke="#000000" stroke-width="2" x1="426" x2="464" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="683" x2="722" y1="63" y2="63"></line>
<path d="M445,82 A19,19 0 0,0 426,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="464" x2="470" y1="102" y2="102"></line>
<line stroke="#000000" stroke-width="2" x1="600" x2="683" y1="102" y2="102"></line>
<path d="M445,83 A19,19 0 0,0 464,102" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M683,102 A19,19 0 0,0 702,83" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M721,63 A19,19 0 0,0 702,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="445" x2="445" y1="83" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="702" x2="702" y1="83" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="408" x2="422" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="525" x2="526" y1="127" y2="127"></line>
<line stroke="#000000" stroke-width="2" x1="273" x2="311" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="721" x2="779" y1="63" y2="63"></line>
<path d="M292,82 A19,19 0 0,0 273,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="311" x2="521" y1="127" y2="127"></line>
<line stroke="#000000" stroke-width="2" x1="526" x2="740" y1="127" y2="127"></line>
<path d="M292,108 A19,19 0 0,0 311,127" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M740,127 A19,19 0 0,0 759,108" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M778,63 A19,19 0 0,0 759,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="292" x2="292" y1="108" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="759" x2="759" y1="108" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="255" x2="269" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="798" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="777" x2="791" y1="63" y2="63"></line>
<text class="title_font" x="113" y="28">datetime_field</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>В качестве значения <code>DEFAULT</code> для поля с типом <code>DATETIME</code> может использоваться функция <code>GETDATE()</code> (текущий момент времени).</p>
</div>

        <div id="datetime_with_time_zone_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="545" height="88" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="88" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 545 88" width="545">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H126 A14,14 0 0,1 126,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="86" y="69">DATETIME</text>
<path d="M171,78 A14,14 0 0,1 171,50 H212 A14,14 0 0,1 212,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="191" y="69">WITH</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="139" x2="153" y1="63" y2="63"></line>
<path d="M257,78 A14,14 0 0,1 257,50 H294 A14,14 0 0,1 294,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="275" y="69">TIME</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="225" x2="239" y1="63" y2="63"></line>
<path d="M339,78 A14,14 0 0,1 339,50 H382 A14,14 0 0,1 382,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="360" y="69">ZONE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="307" x2="321" y1="63" y2="63"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="413" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="462" y="69">nullability</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="395" x2="409" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="532" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="511" x2="525" y1="63" y2="63"></line>
<text class="title_font" x="203" y="28">datetime_with_time_zone_field</text>
</svg>

            </object>
          </div>
        </div>

        <div id="bit_field" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="634" height="135" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="135" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 634 135" width="634">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H72 A14,14 0 0,1 72,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="59" y="69">BIT</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="99" x="103" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#nullability" target="_parent"><text class="box_font link" x="152" y="69">nullability</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="85" x2="99" y1="63" y2="63"></line>
<path d="M271,78 A14,14 0 0,1 271,50 H341 A14,14 0 0,1 341,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="306" y="69">DEFAULT</text>
<path d="M434,78 A14,14 0 0,1 434,50 H475 A14,14 0 0,1 475,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="454" y="69">TRUE</text>
<path d="M434,116 A14,14 0 0,1 434,88 H482 A14,14 0 0,1 482,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="458" y="107">FALSE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="372" x2="416" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="489" x2="545" y1="63" y2="63"></line>
<path d="M391,82 A19,19 0 0,0 372,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="410" x2="416" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="496" x2="506" y1="101" y2="101"></line>
<path d="M391,82 A19,19 0 0,0 410,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M506,101 A19,19 0 0,0 525,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M544,63 A19,19 0 0,0 525,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="391" x2="391" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="525" x2="525" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="354" x2="368" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="409" x2="410" y1="125" y2="125"></line>
<line stroke="#000000" stroke-width="2" x1="219" x2="257" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="544" x2="602" y1="63" y2="63"></line>
<path d="M238,82 A19,19 0 0,0 219,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="257" x2="405" y1="125" y2="125"></line>
<line stroke="#000000" stroke-width="2" x1="410" x2="563" y1="125" y2="125"></line>
<path d="M238,106 A19,19 0 0,0 257,125" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M563,125 A19,19 0 0,0 582,106" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M601,63 A19,19 0 0,0 582,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="238" x2="238" y1="106" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="582" x2="582" y1="106" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="201" x2="215" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="621" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="600" x2="614" y1="63" y2="63"></line>
<text class="title_font" x="79" y="28">bit_field</text>
</svg>

            </object>
          </div>
        </div>
</div>
<div class="sect2">
<h3 id="_первичные_ключи">
<a class="anchor" href="#_%D0%BF%D0%B5%D1%80%D0%B2%D0%B8%D1%87%D0%BD%D1%8B%D0%B5_%D0%BA%D0%BB%D1%8E%D1%87%D0%B8"></a>6.3. Первичные ключи</h3>

        <div id="primary_key_definition" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="502" height="127" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="127" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 502 127" width="502">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H116 A14,14 0 0,1 116,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="81" y="69">PRIMARY</text>
<path d="M161,78 A14,14 0 0,1 161,50 H190 A14,14 0 0,1 190,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="175" y="69">KEY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="129" x2="143" y1="63" y2="63"></line>
<path d="M236,79 A15,15 0 0,1 236,49 H243 A15,15 0 0,1 243,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="239" y="69">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="203" x2="217" y1="63" y2="63"></line>
<path d="M301,78 H399 L406,64 L399,50 H301 L294,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="350" y="69">field name</text>
<path d="M347,117 A15,15 0 0,1 347,87 H353 A15,15 0 0,1 353,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="350" y="107">,</text>
<line stroke="#000000" stroke-width="2" x1="294" x2="332" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="406" x2="372" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="275" x2="294" y1="63" y2="63"></line>
<path d="M294,63 A9,9 0 0,0 285,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="285" x2="285" y1="92" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="285" x2="285" y1="82" y2="72"></line>
<path d="M285,92 A9,9 0 0,0 294,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M415,72 A9,9 0 0,0 406,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="415" x2="415" y1="72" y2="78"></line>
<line stroke="#000000" stroke-width="2" x1="415" x2="415" y1="82" y2="92"></line>
<path d="M406,101 A9,9 0 0,0 415,92" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="406" x2="415" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="257" x2="271" y1="63" y2="63"></line>
<path d="M447,79 A15,15 0 0,1 447,49 H454 A15,15 0 0,1 454,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="450" y="69">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="414" x2="428" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="489" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="468" x2="482" y1="63" y2="63"></line>
<text class="title_font" x="160" y="28">primary_key_definition</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p><strong>primary_key_definition</strong> (определение первичного ключа) — конструкция, задающая состав полей, входящих в первичный ключ таблицы.
Возможно в двух вариантах:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>сокращённый вариант — когда ключевые слова “<code>PRIMARY KEY</code>” идут сразу после определения поля, это даёт возможность более короткой и наглядной записи в случае, когда первичный ключ состоит всего из одного поля,</p>
</li>
<li>
<p>полный вариант — когда конструкция <code>PRIMARY KEY</code> находится в определении таблицы среди определения полей, и может содержать как одно поле, так и любое количество полей.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ограничения:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Не допускается создание таблиц без <code>PRIMARY KEY</code> (за исключением <code>READ ONLY</code>-таблиц).
Это необходимо для работоспособности классов доступа к данным.</p>
</li>
<li>
<p>В таблице может быть не более одного упоминания <code>PRIMARY KEY</code>, будь то сокращённое выражение в конце определения поля или составное выражение в определении таблицы.</p>
</li>
<li>
<p>Не допускается создание PK по полям с типами <code>BLOB</code> и <code>TEXT</code>.</p>
</li>
<li>
<p>Не допускается создание PK по nullable-полям.</p>
</li>
<li>
<p>Не допускается более одного вхождения одного и того же поля в определение PRIMARY KEY.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="foreign_keys_statements">
<a class="anchor" href="#foreign_keys_statements"></a>6.4. Внешние ключи</h3>

        <div id="foreign_key_definition" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="794" height="273" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="273" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 794 273" width="794">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H117 A14,14 0 0,1 117,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="82" y="69">FOREIGN</text>
<path d="M162,78 A14,14 0 0,1 162,50 H191 A14,14 0 0,1 191,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="176" y="69">KEY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="130" x2="144" y1="63" y2="63"></line>
<path d="M237,79 A15,15 0 0,1 237,49 H244 A15,15 0 0,1 244,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="240" y="69">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="204" x2="218" y1="63" y2="63"></line>
<path d="M302,78 H400 L407,64 L400,50 H302 L295,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="351" y="69">field name</text>
<path d="M348,117 A15,15 0 0,1 348,87 H354 A15,15 0 0,1 354,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="351" y="107">,</text>
<line stroke="#000000" stroke-width="2" x1="295" x2="333" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="407" x2="373" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="276" x2="295" y1="63" y2="63"></line>
<path d="M295,63 A9,9 0 0,0 286,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="286" x2="286" y1="92" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="286" x2="286" y1="82" y2="72"></line>
<path d="M286,92 A9,9 0 0,0 295,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M416,72 A9,9 0 0,0 407,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="416" x2="416" y1="72" y2="78"></line>
<line stroke="#000000" stroke-width="2" x1="416" x2="416" y1="82" y2="92"></line>
<path d="M407,101 A9,9 0 0,0 416,92" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="407" x2="416" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="258" x2="272" y1="63" y2="63"></line>
<path d="M448,79 A15,15 0 0,1 448,49 H455 A15,15 0 0,1 455,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="451" y="69">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="415" x2="429" y1="63" y2="63"></line>
<path d="M174,224 A14,14 0 0,1 174,196 H276 A14,14 0 0,1 276,224 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="225" y="215">REFERENCES</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="90" x="307" y="196"></rect>
<a xlink:href="1050_celesta_sql.html#table_ref" target="_parent"><text class="box_font link" x="352" y="215">table_ref</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="289" x2="303" y1="209" y2="209"></line>
<path d="M429,225 A15,15 0 0,1 429,195 H436 A15,15 0 0,1 436,225 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="432" y="215">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="396" x2="410" y1="209" y2="209"></line>
<path d="M494,224 H592 L599,210 L592,196 H494 L487,210 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="543" y="215">field name</text>
<path d="M540,263 A15,15 0 0,1 540,233 H546 A15,15 0 0,1 546,263 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="543" y="253">,</text>
<line stroke="#000000" stroke-width="2" x1="487" x2="525" y1="247" y2="247"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="599" x2="565" y1="247" y2="247"></line>
<line stroke="#000000" stroke-width="2" x1="468" x2="487" y1="209" y2="209"></line>
<path d="M487,209 A9,9 0 0,0 478,218" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="478" x2="478" y1="238" y2="232"></line>
<line stroke="#000000" stroke-width="2" x1="478" x2="478" y1="228" y2="218"></line>
<path d="M478,238 A9,9 0 0,0 487,247" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M608,218 A9,9 0 0,0 599,209" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="608" x2="608" y1="218" y2="224"></line>
<line stroke="#000000" stroke-width="2" x1="608" x2="608" y1="228" y2="238"></line>
<path d="M599,247 A9,9 0 0,0 608,238" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="599" x2="608" y1="209" y2="209"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="450" x2="464" y1="209" y2="209"></line>
<path d="M640,225 A15,15 0 0,1 640,195 H647 A15,15 0 0,1 647,225 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="643" y="215">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="607" x2="621" y1="209" y2="209"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="82" x="679" y="196"></rect>
<a xlink:href="1050_celesta_sql.html#fk_rules" target="_parent"><text class="box_font link" x="720" y="215">fk_rules</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="661" x2="675" y1="209" y2="209"></line>
<line stroke="#000000" stroke-width="2" x1="470" x2="508" y1="63" y2="63"></line>
<path d="M517,72 A9,9 0 0,0 508,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="517" x2="517" y1="72" y2="105"></line>
<line stroke="#000000" stroke-width="2" x1="517" x2="517" y1="109" y2="147"></line>
<path d="M508,156 A9,9 0 0,0 517,147" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="508" x2="319" y1="156" y2="156"></line>
<line stroke="#000000" stroke-width="2" x1="315" x2="122" y1="156" y2="156"></line>
<path d="M122,156 A9,9 0 0,0 113,165" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="165" y2="178"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="182" y2="200"></line>
<path d="M113,200 A9,9 0 0,0 122,209" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="209" y2="209"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="781" cy="209" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="760" x2="774" y1="209" y2="209"></line>
<text class="title_font" x="156" y="28">foreign_key_definition</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p><strong>foreign_key_definition</strong> (Определение внешнего ключа) — конструкция, задающая связь между таблицами по одному или нескольким полям.
Как и в случае с конструкцией <code>PRIMARY KEY</code>, возможно использование в двух вариантах — сокращённом (встроенном в определение поля, связь по одному полю) и полном (перечисляется среди определений полей).
Кроме того, внешний ключ можно создать вне определения таблицы при помощи конструкции "alter table add constraint":</p>
</div>

        <div id="add_foreign_key" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="723" height="194" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="194" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 723 194" width="723">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H96 A14,14 0 0,1 96,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="71" y="69">ALTER</text>
<path d="M141,78 A14,14 0 0,1 141,50 H190 A14,14 0 0,1 190,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="165" y="69">TABLE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="109" x2="123" y1="63" y2="63"></line>
<path d="M228,78 H331 L338,64 L331,50 H228 L221,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="279" y="69">table name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="203" x2="217" y1="63" y2="63"></line>
<path d="M174,184 A14,14 0 0,1 174,156 H208 A14,14 0 0,1 208,184 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="191" y="175">ADD</text>
<path d="M253,184 A14,14 0 0,1 253,156 H354 A14,14 0 0,1 354,184 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="303" y="175">CONSTRAINT</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="221" x2="235" y1="169" y2="169"></line>
<path d="M392,184 H470 L477,170 L470,156 H392 L385,170 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="431" y="175">fk name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="367" x2="381" y1="169" y2="169"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="196" x="494" y="156"></rect>
<a xlink:href="1050_celesta_sql.html#foreign_key_definition" target="_parent"><text class="box_font link" x="592" y="175">foreign_key_definition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="476" x2="490" y1="169" y2="169"></line>
<line stroke="#000000" stroke-width="2" x1="338" x2="376" y1="63" y2="63"></line>
<path d="M385,72 A9,9 0 0,0 376,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="385" x2="385" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="385" x2="385" y1="90" y2="108"></line>
<path d="M376,117 A9,9 0 0,0 385,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="376" x2="253" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="249" x2="122" y1="117" y2="117"></line>
<path d="M122,117 A9,9 0 0,0 113,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="143" y2="160"></line>
<path d="M113,160 A9,9 0 0,0 122,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="169" y2="169"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="710" cy="169" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="689" x2="703" y1="169" y2="169"></line>
<text class="title_font" x="124" y="28">add_foreign_key</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Ограничения:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Foreign key, простой или составной, может ссылаться только на Primary Key, причём полностью. (В Celesta SQL не допускаются ограничения <code>UNIQUE</code>, поэтому из двух возможностей, стандартно предлагаемых в СУБД для Foreign Keys, остаётся только возможность ссылки на Primary Key).</p>
</li>
<li>
<p>Типы полей должны в точности совпадать (если поле – строковое, длина ссылающегося поля должна быть точно равна длине поля, на которое ссылаются).</p>
</li>
<li>
<p>Нельзя создать более одного определения Foreign Key на одном и том же наборе столбцов (частный случай – не может быть двух FK, определённых для одного и того же столбца).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>fk_rules</strong> — ссылочные действия:</p>
</div>

        <div id="fk_rules" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="749" height="362" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="362" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 749 362" width="749">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M85,78 A14,14 0 0,1 85,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="96" y="69">ON</text>
<path d="M153,78 A14,14 0 0,1 153,50 H215 A14,14 0 0,1 215,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="184" y="69">UPDATE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M301,78 A14,14 0 0,1 301,50 H324 A14,14 0 0,1 324,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="312" y="69">NO</text>
<path d="M369,78 A14,14 0 0,1 369,50 H428 A14,14 0 0,1 428,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="398" y="69">ACTION</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="337" x2="351" y1="63" y2="63"></line>
<path d="M308,116 A14,14 0 0,1 308,88 H382 A14,14 0 0,1 382,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="345" y="107">CASCADE</text>
<path d="M308,153 A14,14 0 0,1 308,125 H337 A14,14 0 0,1 337,153 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="322" y="144">SET</text>
<path d="M382,153 A14,14 0 0,1 382,125 H422 A14,14 0 0,1 422,153 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="402" y="144">NULL</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="350" x2="364" y1="138" y2="138"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="246" x2="283" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="442" x2="485" y1="63" y2="63"></line>
<path d="M265,82 A19,19 0 0,0 246,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="284" x2="290" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="396" x2="446" y1="101" y2="101"></line>
<path d="M265,82 A19,19 0 0,0 284,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M446,101 A19,19 0 0,0 465,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="284" x2="290" y1="138" y2="138"></line>
<line stroke="#000000" stroke-width="2" x1="436" x2="446" y1="138" y2="138"></line>
<path d="M265,119 A19,19 0 0,0 284,138" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M446,138 A19,19 0 0,0 465,119" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M484,63 A19,19 0 0,0 465,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="265" x2="265" y1="119" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="465" x2="465" y1="119" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="228" x2="242" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="286" x2="287" y1="162" y2="162"></line>
<line stroke="#000000" stroke-width="2" x1="33" x2="71" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="484" x2="542" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="282" y1="162" y2="162"></line>
<line stroke="#000000" stroke-width="2" x1="287" x2="503" y1="162" y2="162"></line>
<path d="M52,143 A19,19 0 0,0 71,162" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M503,162 A19,19 0 0,0 522,143" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M541,63 A19,19 0 0,0 522,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="143" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="522" x2="522" y1="143" y2="82"></line>
<path d="M263,268 A14,14 0 0,1 263,240 H286 A14,14 0 0,1 286,268 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="274" y="259">ON</text>
<path d="M331,268 A14,14 0 0,1 331,240 H390 A14,14 0 0,1 390,268 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="360" y="259">DELETE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="299" x2="313" y1="253" y2="253"></line>
<path d="M476,268 A14,14 0 0,1 476,240 H499 A14,14 0 0,1 499,268 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="487" y="259">NO</text>
<path d="M544,268 A14,14 0 0,1 544,240 H603 A14,14 0 0,1 603,268 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="573" y="259">ACTION</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="512" x2="526" y1="253" y2="253"></line>
<path d="M483,306 A14,14 0 0,1 483,278 H557 A14,14 0 0,1 557,306 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="520" y="297">CASCADE</text>
<path d="M483,343 A14,14 0 0,1 483,315 H512 A14,14 0 0,1 512,343 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="497" y="334">SET</text>
<path d="M557,343 A14,14 0 0,1 557,315 H597 A14,14 0 0,1 597,343 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="577" y="334">NULL</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="525" x2="539" y1="328" y2="328"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="421" x2="458" y1="253" y2="253"></line>
<line stroke="#000000" stroke-width="2" x1="617" x2="660" y1="253" y2="253"></line>
<path d="M440,272 A19,19 0 0,0 421,253" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="459" x2="465" y1="291" y2="291"></line>
<line stroke="#000000" stroke-width="2" x1="571" x2="621" y1="291" y2="291"></line>
<path d="M440,272 A19,19 0 0,0 459,291" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M621,291 A19,19 0 0,0 640,272" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="459" x2="465" y1="328" y2="328"></line>
<line stroke="#000000" stroke-width="2" x1="611" x2="621" y1="328" y2="328"></line>
<path d="M440,309 A19,19 0 0,0 459,328" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M621,328 A19,19 0 0,0 640,309" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M659,253 A19,19 0 0,0 640,272" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="440" x2="440" y1="309" y2="272"></line>
<line stroke="#000000" stroke-width="2" x1="640" x2="640" y1="309" y2="272"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="403" x2="417" y1="253" y2="253"></line>
<line stroke="#000000" stroke-width="2" x1="463" x2="464" y1="352" y2="352"></line>
<line stroke="#000000" stroke-width="2" x1="211" x2="249" y1="253" y2="253"></line>
<line stroke="#000000" stroke-width="2" x1="659" x2="717" y1="253" y2="253"></line>
<path d="M230,272 A19,19 0 0,0 211,253" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="249" x2="459" y1="352" y2="352"></line>
<line stroke="#000000" stroke-width="2" x1="464" x2="678" y1="352" y2="352"></line>
<path d="M230,333 A19,19 0 0,0 249,352" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M678,352 A19,19 0 0,0 697,333" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M716,253 A19,19 0 0,0 697,272" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="230" x2="230" y1="333" y2="272"></line>
<line stroke="#000000" stroke-width="2" x1="697" x2="697" y1="333" y2="272"></line>
<line stroke="#000000" stroke-width="2" x1="541" x2="579" y1="63" y2="63"></line>
<path d="M588,72 A9,9 0 0,0 579,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="588" x2="588" y1="72" y2="128"></line>
<line stroke="#000000" stroke-width="2" x1="588" x2="588" y1="132" y2="192"></line>
<path d="M579,201 A9,9 0 0,0 588,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="579" x2="380" y1="201" y2="201"></line>
<line stroke="#000000" stroke-width="2" x1="376" x2="173" y1="201" y2="201"></line>
<path d="M173,201 A9,9 0 0,0 164,210" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="164" x2="164" y1="210" y2="223"></line>
<line stroke="#000000" stroke-width="2" x1="164" x2="164" y1="227" y2="244"></line>
<path d="M164,244 A9,9 0 0,0 173,253" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="173" x2="207" y1="253" y2="253"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="736" cy="253" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="715" x2="729" y1="253" y2="253"></line>
<text class="title_font" x="77" y="28">fk_rules</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Поддерживаемые ссылочные действия:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NO ACTION</code> – запрет удаления/модификации родительской записи, если на неё есть ссылки.</p>
</li>
<li>
<p><code>SET NULL</code> – выставление <code>NULL</code> в ссылках.
Естественно, использовать это действие запрещено для <code>NOT NULL</code>-able полей.</p>
</li>
<li>
<p><code>CASCADE</code> – каскадное удаление/обновление полей.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В момент создания foreign key сослаться можно только</p>
</div>
<div class="ulist">
<ul>
<li>
<p>на таблицу, определённую в текущей грануле выше по тексту,</p>
</li>
<li>
<p>на таблицу, определённую с другой грануле.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Внимание"></i>
</td>
<td class="content">
«Зацикленные» ссылки по foreign key (например, вида A→B→C→A) при разработке структуры базы данных в действительности нужны крайне редко и обычно говорят об ошибке проектировщика.
Единственный широко применимый практически значимый пример «зацикливания» — ссылка таблицы на саму себя при организации иерархического перечня по принципу parent-child.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>В Celesta не допускается создание «зацикленных» ссылок между таблицами, принадлежащими разным гранулам.
Если надо организовать ссылки по кругу между несколькими таблицами внутри гранулы, то это можно сделать, воспользовавшись конструкцией "alter table add constraint foreign key".</p>
</div>
<div class="paragraph">
<p>В частности, работает следующий пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE aa(idaa INT NOT NULL PRIMARY KEY, idc INT , textvalue nvarchar(10));</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE a (ida INT NOT NULL PRIMARY KEY, descr nvarchar(2), parent INT
                FOREIGN KEY REFERENCES a(ida), --ссылка таблицы на саму себя
                fff INT FOREIGN KEY REFERENCES aa(idaa) --первая часть круговой ссылки</code></pre>
</div>
</div>
<div class="paragraph">
<p>внешний ключ, создаваемый вне таблицы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER TABLE aa ADD CONSTRAINT fk1
  FOREIGN KEY (idc) REFERENCES a(ida); --вторая часть круговой ссылки</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример создания составного ключа, состоящего из двух полей:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE empfiles(
  id INT NOT NULL PRIMARY KEY,
  user_id varchar(200) NOT NULL,
  orgtype_id varchar(255) NOT NULL,
  question_id varchar(30) NOT NULL,
  FOREIGN KEY (orgtype_id, question_id) REFERENCES schema.table(field, field)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="celestasql_with_options">
<a class="anchor" href="#celestasql_with_options"></a>6.5. Опции</h3>
<div class="paragraph">
<p>Celesta позволяет указывать следующие опции после определения таблицы:</p>
</div>

        <div id="table_options" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="630" height="280" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="280" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 630 280" width="630">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H88 A14,14 0 0,1 88,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="67" y="69">WITH</text>
<path d="M181,78 A14,14 0 0,1 181,50 H223 A14,14 0 0,1 223,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="202" y="69">READ</text>
<path d="M268,78 A14,14 0 0,1 268,50 H309 A14,14 0 0,1 309,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="288" y="69">ONLY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="236" x2="250" y1="63" y2="63"></line>
<path d="M219,116 A14,14 0 0,1 219,88 H242 A14,14 0 0,1 242,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="230" y="107">NO</text>
<line stroke="#000000" stroke-width="2" x1="230" x2="231" y1="139" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="167" x2="205" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="256" x2="295" y1="101" y2="101"></line>
<path d="M186,120 A19,19 0 0,0 167,101" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="205" x2="226" y1="139" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="231" x2="256" y1="139" y2="139"></line>
<path d="M186,120 A19,19 0 0,0 205,139" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M256,139 A19,19 0 0,0 275,120" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M294,101 A19,19 0 0,0 275,120" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="186" x2="186" y1="120" y2="120"></line>
<line stroke="#000000" stroke-width="2" x1="275" x2="275" y1="120" y2="120"></line>
<path d="M325,116 A14,14 0 0,1 325,88 H394 A14,14 0 0,1 394,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="359" y="107">VERSION</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="293" x2="307" y1="101" y2="101"></line>
<path d="M439,116 A14,14 0 0,1 439,88 H492 A14,14 0 0,1 492,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="465" y="107">CHECK</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="407" x2="421" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="119" x2="163" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="323" x2="574" y1="63" y2="63"></line>
<path d="M138,82 A19,19 0 0,0 119,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="157" x2="163" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="506" x2="535" y1="101" y2="101"></line>
<path d="M138,82 A19,19 0 0,0 157,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M535,101 A19,19 0 0,0 554,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M573,63 A19,19 0 0,0 554,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="138" x2="138" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="554" x2="554" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="101" x2="115" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="348" x2="349" y1="217" y2="217"></line>
<path d="M262,270 A14,14 0 0,1 262,242 H285 A14,14 0 0,1 285,270 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="273" y="261">NO</text>
<path d="M330,270 A14,14 0 0,1 330,242 H435 A14,14 0 0,1 435,270 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="382" y="261">AUTOUPDATE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="298" x2="312" y1="255" y2="255"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="200" x2="344" y1="217" y2="217"></line>
<line stroke="#000000" stroke-width="2" x1="349" x2="498" y1="217" y2="217"></line>
<path d="M219,236 A19,19 0 0,0 200,217" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="238" x2="244" y1="255" y2="255"></line>
<line stroke="#000000" stroke-width="2" x1="449" x2="459" y1="255" y2="255"></line>
<path d="M219,236 A19,19 0 0,0 238,255" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M459,255 A19,19 0 0,0 478,236" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M497,217 A19,19 0 0,0 478,236" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="219" x2="219" y1="236" y2="236"></line>
<line stroke="#000000" stroke-width="2" x1="478" x2="478" y1="236" y2="236"></line>
<line stroke="#000000" stroke-width="2" x1="573" x2="611" y1="63" y2="63"></line>
<path d="M620,72 A9,9 0 0,0 611,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="620" x2="620" y1="72" y2="116"></line>
<line stroke="#000000" stroke-width="2" x1="620" x2="620" y1="120" y2="169"></line>
<path d="M611,178 A9,9 0 0,0 620,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="611" x2="390" y1="178" y2="178"></line>
<line stroke="#000000" stroke-width="2" x1="386" x2="162" y1="178" y2="178"></line>
<path d="M162,178 A9,9 0 0,0 153,187" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="153" x2="153" y1="187" y2="193"></line>
<line stroke="#000000" stroke-width="2" x1="153" x2="153" y1="197" y2="208"></line>
<path d="M153,208 A9,9 0 0,0 162,217" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="162" x2="196" y1="217" y2="217"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="517" cy="217" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="496" x2="510" y1="217" y2="217"></line>
<text class="title_font" x="108" y="28">table_options</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Таким образом, поддерживаются следующие возможности:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>WITH VERSION CHECK</code> — режим по умолчанию: включение механизма отслеживания версий записей для исключения потерянных обновлений (см. раздел <a href="1110_lost_updates_protection.html#Lost_updates_protection">«Защита от потерянных обновлений»</a>).
Указывать данную опцию явно не требуется.</p>
</li>
<li>
<p><code>WITH NO VERSION CHECK</code> — отключение механизма отслеживания версий записей.
Требуется в случаях, когда нет необходимости в защите от потерянных обновлений — например, в таблицах, используемых только для добавления записей.
Возможность модифицировать данные в таблице при этой опции сохраняется, но возможны «потерянные обновления».</p>
</li>
<li>
<p><code>WITH READ ONLY</code> — режим «только чтение».
Требуется в случаях, когда данные таблицы поступают из внешних источников, а не заносятся средствами Celesta, либо если необходимо подключиться к таблице, относящейся к иному приложению, и потому нежелательно вносить в её данные какие-либо изменения.
В этом режиме механизм отслеживания версий записей отключается, а класс для доступа к таблице генерируется без методов модификации данных.
Кроме того, для таких таблиц не требуется указывать первичный ключ.</p>
</li>
<li>
<p>Опция <code>NO AUTOUPDATE</code>, которая может применяться совместно с данными опциями, отключает таблицу от процесса автообновления базы данных.
Используется в случае, когда структура какой-либо таблицы изменяется в базе данных иными средствами и система не должна пытаться синхронизировать структуру этой таблицы с описанием на языке CelestaSQL автоматически.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_index_statement">
<a class="anchor" href="#create_index_statement"></a>7. Конструкция CREATE INDEX</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Индексы применяются для ускорения фильтрации по полям таблиц и создаются при помощи следующей синтаксической конструкции:</p>
</div>

        <div id="create_index" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="611" height="234" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="234" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 611 234" width="611">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M153,78 A14,14 0 0,1 153,50 H201 A14,14 0 0,1 201,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="177" y="69">INDEX</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M239,78 H345 L352,64 L345,50 H239 L232,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="292" y="69">index name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="214" x2="228" y1="63" y2="63"></line>
<path d="M383,78 A14,14 0 0,1 383,50 H406 A14,14 0 0,1 406,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="394" y="69">ON</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="351" x2="365" y1="63" y2="63"></line>
<path d="M444,78 H547 L554,64 L547,50 H444 L437,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="495" y="69">table name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="419" x2="433" y1="63" y2="63"></line>
<path d="M283,186 A15,15 0 0,1 283,156 H290 A15,15 0 0,1 290,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="286" y="176">(</text>
<path d="M348,185 H446 L453,171 L446,157 H348 L341,171 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="397" y="176">field name</text>
<path d="M394,224 A15,15 0 0,1 394,194 H400 A15,15 0 0,1 400,224 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="397" y="214">,</text>
<line stroke="#000000" stroke-width="2" x1="341" x2="379" y1="208" y2="208"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="453" x2="419" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="322" x2="341" y1="170" y2="170"></line>
<path d="M341,170 A9,9 0 0,0 332,179" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="332" x2="332" y1="199" y2="193"></line>
<line stroke="#000000" stroke-width="2" x1="332" x2="332" y1="189" y2="179"></line>
<path d="M332,199 A9,9 0 0,0 341,208" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M462,179 A9,9 0 0,0 453,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="462" x2="462" y1="179" y2="185"></line>
<line stroke="#000000" stroke-width="2" x1="462" x2="462" y1="189" y2="199"></line>
<path d="M453,208 A9,9 0 0,0 462,199" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="453" x2="462" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="304" x2="318" y1="170" y2="170"></line>
<path d="M494,186 A15,15 0 0,1 494,156 H501 A15,15 0 0,1 501,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="497" y="176">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="461" x2="475" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="554" x2="592" y1="63" y2="63"></line>
<path d="M601,72 A9,9 0 0,0 592,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="601" x2="601" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="601" x2="601" y1="90" y2="108"></line>
<path d="M592,117 A9,9 0 0,0 601,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="592" x2="415" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="411" x2="230" y1="117" y2="117"></line>
<path d="M230,117 A9,9 0 0,0 221,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="221" x2="221" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="221" x2="221" y1="143" y2="161"></line>
<path d="M221,161 A9,9 0 0,0 230,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="230" x2="264" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="536" cy="170" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="515" x2="529" y1="170" y2="170"></line>
<text class="title_font" x="105" y="28">create_index</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Имена индексов должны быть уникальны в пределах гранулы.
Все индексы в Celesta допускают повторяющиеся значения.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_view_statement">
<a class="anchor" href="#create_view_statement"></a>8. Конструкция CREATE VIEW</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Представления (views) служат для доступа только на чтение к данным, собранным из одной или нескольких таблиц при помощи SQL-запроса <code>SELECT</code>.
Для каждого своего представления Celesta создаёт объект-представление в базе данных, транслируя при этом SQL-запрос на языке CelestaSQL в соответствующий диалект языка SQL.</p>
</div>
<div class="paragraph">
<p>Представления создаются при помощи синтаксической конструкции</p>
</div>

        <div id="create_view" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="517" height="88" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="88" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 517 88" width="517">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M153,78 A14,14 0 0,1 153,50 H193 A14,14 0 0,1 193,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="173" y="69">VIEW</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M231,78 H330 L337,64 L330,50 H231 L224,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="280" y="69">view name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="206" x2="220" y1="63" y2="63"></line>
<path d="M368,78 A14,14 0 0,1 368,50 H388 A14,14 0 0,1 388,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="378" y="69">AS</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="336" x2="350" y1="63" y2="63"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="65" x="419" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#query" target="_parent"><text class="box_font link" x="451" y="69">query</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="401" x2="415" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="504" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="483" x2="497" y1="63" y2="63"></line>
<text class="title_font" x="100" y="28">create_view</text>
</svg>

            </object>
          </div>
        </div>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;view name&gt;</strong> (имя представления) должно быть уникальным в пределах гранулы и не совпадать с именем таблицы.</p>
</li>
<li>
<p><strong>query</strong> (запрос) представляет собой SQL-запрос, имеющий следующий синтаксис:</p>
</li>
</ul>
</div>

        <div id="query" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="219" height="127" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="127" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 219 127" width="219">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="67" x="81" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#select_qry" target="_parent"><text class="box_font link" x="114" y="69">select</text></a>
<path d="M67,117 A15,15 0 0,1 67,87 H162 A15,15 0 0,1 162,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="114" y="107">UNION ALL</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="52" x2="77" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="148" x2="177" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="33" x2="52" y1="63" y2="63"></line>
<path d="M52,63 A9,9 0 0,0 43,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="43" x2="43" y1="92" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="43" x2="43" y1="82" y2="72"></line>
<path d="M43,92 A9,9 0 0,0 52,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M186,72 A9,9 0 0,0 177,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="186" x2="186" y1="72" y2="78"></line>
<line stroke="#000000" stroke-width="2" x1="186" x2="186" y1="82" y2="92"></line>
<path d="M177,101 A9,9 0 0,0 186,92" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="177" x2="186" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="206" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="185" x2="199" y1="63" y2="63"></line>
<text class="title_font" x="66" y="28">query</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p><code>SELECT</code>-запросы в CelestaSQL могут быть объединены в цепочку при помощи <code>UNION ALL</code>.
Как обычно, требуется, чтобы каждый из запросов в цепочке возвращал одинаковое количество столбцов, и столбцы были совпадающих типов.</p>
</div>
<div class="paragraph">
<p>В качестве названий столбцов, возвращаемых выражением <code>UNION ALL</code>, принимаются названия столбцов первого <code>SELECT</code>-запроса.
Nullability возвращаемых столбцов вычисляется по правилу: выражение столбца может возвращать <code>null</code>, если хотя бы в одном из запросов в цепочке <code>UNION ALL</code> соответствующий столбец может возвращать <code>null</code>.</p>
</div>

        <div id="select_qry" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="870" height="331" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="331" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 870 331" width="870">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H105 A14,14 0 0,1 105,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="76" y="69">SELECT</text>
<line stroke="#000000" stroke-width="2" x1="234" x2="235" y1="63" y2="63"></line>
<path d="M198,116 A14,14 0 0,1 198,88 H271 A14,14 0 0,1 271,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="234" y="107">DISTINCT</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="136" x2="230" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="235" x2="334" y1="63" y2="63"></line>
<path d="M155,82 A19,19 0 0,0 136,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="174" x2="180" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="285" x2="295" y1="101" y2="101"></line>
<path d="M155,82 A19,19 0 0,0 174,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M295,101 A19,19 0 0,0 314,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M333,63 A19,19 0 0,0 314,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="155" x2="155" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="314" x2="314" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="118" x2="132" y1="63" y2="63"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="407" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="435" y="69">term</text></a>
<line stroke="#000000" stroke-width="2" x1="613" x2="614" y1="63" y2="63"></line>
<path d="M543,116 A14,14 0 0,1 543,88 H563 A14,14 0 0,1 563,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="553" y="107">AS</text>
<path d="M601,116 H692 L699,102 L692,88 H601 L594,102 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="646" y="107">field alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="576" x2="590" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="481" x2="609" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="614" x2="748" y1="63" y2="63"></line>
<path d="M500,82 A19,19 0 0,0 481,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="519" x2="525" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="699" x2="709" y1="101" y2="101"></line>
<path d="M500,82 A19,19 0 0,0 519,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M709,101 A19,19 0 0,0 728,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M747,63 A19,19 0 0,0 728,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="500" x2="500" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="728" x2="728" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="463" x2="477" y1="63" y2="63"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="101" x="417" y="125"></rect>
<a xlink:href="1050_celesta_sql.html#aggregate" target="_parent"><text class="box_font link" x="467" y="144">aggregate</text></a>
<line stroke="#000000" stroke-width="2" x1="369" x2="407" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="747" x2="805" y1="63" y2="63"></line>
<path d="M388,82 A19,19 0 0,0 369,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="407" x2="413" y1="138" y2="138"></line>
<line stroke="#000000" stroke-width="2" x1="518" x2="766" y1="138" y2="138"></line>
<path d="M388,119 A19,19 0 0,0 407,138" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M766,138 A19,19 0 0,0 785,119" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M804,63 A19,19 0 0,0 785,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="388" x2="388" y1="119" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="785" x2="785" y1="119" y2="82"></line>
<path d="M583,192 A15,15 0 0,1 583,162 H589 A15,15 0 0,1 589,192 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="586" y="182">,</text>
<line stroke="#000000" stroke-width="2" x1="369" x2="568" y1="176" y2="176"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="804" x2="608" y1="176" y2="176"></line>
<line stroke="#000000" stroke-width="2" x1="350" x2="369" y1="63" y2="63"></line>
<path d="M369,63 A9,9 0 0,0 360,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="360" x2="360" y1="167" y2="123"></line>
<line stroke="#000000" stroke-width="2" x1="360" x2="360" y1="119" y2="72"></line>
<path d="M360,167 A9,9 0 0,0 369,176" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M813,72 A9,9 0 0,0 804,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="813" x2="813" y1="72" y2="115"></line>
<line stroke="#000000" stroke-width="2" x1="813" x2="813" y1="119" y2="167"></line>
<path d="M804,176 A9,9 0 0,0 813,167" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="804" x2="813" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="332" x2="346" y1="63" y2="63"></line>
<path d="M124,298 A14,14 0 0,1 124,270 H168 A14,14 0 0,1 168,298 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="146" y="289">FROM</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="115" x="199" y="270"></rect>
<a xlink:href="1050_celesta_sql.html#from_clause" target="_parent"><text class="box_font link" x="256" y="289">from_clause</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="181" x2="195" y1="283" y2="283"></line>
<path d="M383,298 A14,14 0 0,1 383,270 H439 A14,14 0 0,1 439,298 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="411" y="289">WHERE</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="93" x="470" y="270"></rect>
<a xlink:href="1050_celesta_sql.html#condition" target="_parent"><text class="box_font link" x="516" y="289">condition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="452" x2="466" y1="283" y2="283"></line>
<line stroke="#000000" stroke-width="2" x1="465" x2="466" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="331" x2="369" y1="283" y2="283"></line>
<line stroke="#000000" stroke-width="2" x1="563" x2="602" y1="283" y2="283"></line>
<path d="M350,302 A19,19 0 0,0 331,283" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="369" x2="461" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="466" x2="563" y1="321" y2="321"></line>
<path d="M350,302 A19,19 0 0,0 369,321" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M563,321 A19,19 0 0,0 582,302" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M601,283 A19,19 0 0,0 582,302" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="350" x2="350" y1="302" y2="302"></line>
<line stroke="#000000" stroke-width="2" x1="582" x2="582" y1="302" y2="302"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="313" x2="327" y1="283" y2="283"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="93" x="656" y="270"></rect>
<a xlink:href="1050_celesta_sql.html#group_by" target="_parent"><text class="box_font link" x="702" y="289">group_by</text></a>
<line stroke="#000000" stroke-width="2" x1="702" x2="703" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="618" x2="656" y1="283" y2="283"></line>
<line stroke="#000000" stroke-width="2" x1="749" x2="788" y1="283" y2="283"></line>
<path d="M637,302 A19,19 0 0,0 618,283" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="656" x2="698" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="703" x2="749" y1="321" y2="321"></line>
<path d="M637,302 A19,19 0 0,0 656,321" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M749,321 A19,19 0 0,0 768,302" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M787,283 A19,19 0 0,0 768,302" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="637" x2="637" y1="302" y2="302"></line>
<line stroke="#000000" stroke-width="2" x1="768" x2="768" y1="302" y2="302"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="600" x2="614" y1="283" y2="283"></line>
<line stroke="#000000" stroke-width="2" x1="813" x2="851" y1="63" y2="63"></line>
<path d="M860,72 A9,9 0 0,0 851,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="860" x2="860" y1="72" y2="143"></line>
<line stroke="#000000" stroke-width="2" x1="860" x2="860" y1="147" y2="222"></line>
<path d="M851,231 A9,9 0 0,0 860,222" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="851" x2="465" y1="231" y2="231"></line>
<line stroke="#000000" stroke-width="2" x1="461" x2="72" y1="231" y2="231"></line>
<path d="M72,231 A9,9 0 0,0 63,240" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="63" x2="63" y1="240" y2="253"></line>
<line stroke="#000000" stroke-width="2" x1="63" x2="63" y1="257" y2="274"></line>
<path d="M63,274 A9,9 0 0,0 72,283" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="72" x2="106" y1="283" y2="283"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="807" cy="283" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="786" x2="800" y1="283" y2="283"></line>
<text class="title_font" x="67" y="28">select</text>
</svg>

            </object>
          </div>
        </div>

        <div id="from_clause" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="1080" height="421" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="421" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 1080 421" width="1080">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="90" x="33" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#table_ref" target="_parent"><text class="box_font link" x="78" y="69">table_ref</text></a>
<path d="M192,78 A14,14 0 0,1 192,50 H212 A14,14 0 0,1 212,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="202" y="69">AS</text>
<path d="M250,78 H347 L354,64 L347,50 H250 L243,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="298" y="69">table alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="225" x2="239" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="265" x2="266" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="140" x2="178" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="354" x2="393" y1="63" y2="63"></line>
<path d="M159,82 A19,19 0 0,0 140,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="178" x2="261" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="266" x2="354" y1="101" y2="101"></line>
<path d="M159,82 A19,19 0 0,0 178,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M354,101 A19,19 0 0,0 373,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M392,63 A19,19 0 0,0 373,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="159" x2="159" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="373" x2="373" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="136" y1="63" y2="63"></line>
<path d="M398,207 A14,14 0 0,1 398,179 H446 A14,14 0 0,1 446,207 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="422" y="198">INNER</text>
<path d="M398,245 A14,14 0 0,1 398,217 H435 A14,14 0 0,1 435,245 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="416" y="236">LEFT</text>
<path d="M398,282 A14,14 0 0,1 398,254 H446 A14,14 0 0,1 446,282 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="422" y="273">RIGHT</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="336" x2="380" y1="192" y2="192"></line>
<line stroke="#000000" stroke-width="2" x1="460" x2="509" y1="192" y2="192"></line>
<path d="M355,211 A19,19 0 0,0 336,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="374" x2="380" y1="230" y2="230"></line>
<line stroke="#000000" stroke-width="2" x1="449" x2="470" y1="230" y2="230"></line>
<path d="M355,211 A19,19 0 0,0 374,230" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M470,230 A19,19 0 0,0 489,211" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="374" x2="380" y1="267" y2="267"></line>
<line stroke="#000000" stroke-width="2" x1="460" x2="470" y1="267" y2="267"></line>
<path d="M355,248 A19,19 0 0,0 374,267" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M470,267 A19,19 0 0,0 489,248" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M508,192 A19,19 0 0,0 489,211" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="355" x2="355" y1="248" y2="211"></line>
<line stroke="#000000" stroke-width="2" x1="489" x2="489" y1="248" y2="211"></line>
<path d="M539,207 A14,14 0 0,1 539,179 H572 A14,14 0 0,1 572,207 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="555" y="198">JOIN</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="507" x2="521" y1="192" y2="192"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="90" x="603" y="179"></rect>
<a xlink:href="1050_celesta_sql.html#table_ref" target="_parent"><text class="box_font link" x="648" y="198">table_ref</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="585" x2="599" y1="192" y2="192"></line>
<path d="M762,207 A14,14 0 0,1 762,179 H782 A14,14 0 0,1 782,207 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="772" y="198">AS</text>
<path d="M820,207 H917 L924,193 L917,179 H820 L813,193 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="868" y="198">table alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="795" x2="809" y1="192" y2="192"></line>
<line stroke="#000000" stroke-width="2" x1="835" x2="836" y1="230" y2="230"></line>
<line stroke="#000000" stroke-width="2" x1="710" x2="748" y1="192" y2="192"></line>
<line stroke="#000000" stroke-width="2" x1="924" x2="963" y1="192" y2="192"></line>
<path d="M729,211 A19,19 0 0,0 710,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="748" x2="831" y1="230" y2="230"></line>
<line stroke="#000000" stroke-width="2" x1="836" x2="924" y1="230" y2="230"></line>
<path d="M729,211 A19,19 0 0,0 748,230" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M924,230 A19,19 0 0,0 943,211" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M962,192 A19,19 0 0,0 943,211" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="729" x2="729" y1="211" y2="211"></line>
<line stroke="#000000" stroke-width="2" x1="943" x2="943" y1="211" y2="211"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="692" x2="706" y1="192" y2="192"></line>
<path d="M596,388 A14,14 0 0,1 596,360 H619 A14,14 0 0,1 619,388 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="607" y="379">ON</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="93" x="650" y="360"></rect>
<a xlink:href="1050_celesta_sql.html#condition" target="_parent"><text class="box_font link" x="696" y="379">condition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="632" x2="646" y1="373" y2="373"></line>
<line stroke="#000000" stroke-width="2" x1="962" x2="1000" y1="192" y2="192"></line>
<path d="M1009,201 A9,9 0 0,0 1000,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="1009" x2="1009" y1="201" y2="252"></line>
<line stroke="#000000" stroke-width="2" x1="1009" x2="1009" y1="256" y2="312"></line>
<path d="M1000,321 A9,9 0 0,0 1009,312" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="1000" x2="776" y1="321" y2="321"></line>
<line stroke="#000000" stroke-width="2" x1="772" x2="544" y1="321" y2="321"></line>
<path d="M544,321 A9,9 0 0,0 535,330" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="535" x2="535" y1="330" y2="343"></line>
<line stroke="#000000" stroke-width="2" x1="535" x2="535" y1="347" y2="364"></line>
<path d="M535,364 A9,9 0 0,0 544,373" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="544" x2="578" y1="373" y2="373"></line>
<line stroke="#000000" stroke-width="2" x1="539" x2="540" y1="397" y2="397"></line>
<line stroke="#000000" stroke-width="2" x1="336" x2="539" y1="397" y2="397"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="743" x2="544" y1="397" y2="397"></line>
<line stroke="#000000" stroke-width="2" x1="317" x2="336" y1="192" y2="192"></line>
<path d="M336,192 A9,9 0 0,0 327,201" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="327" x2="327" y1="388" y2="298"></line>
<line stroke="#000000" stroke-width="2" x1="327" x2="327" y1="294" y2="201"></line>
<path d="M327,388 A9,9 0 0,0 336,397" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M743,397 A12,12 0 0,0 743,373" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="743" x2="752" y1="373" y2="373"></line>
<line stroke="#000000" stroke-width="2" x1="662" x2="663" y1="406" y2="406"></line>
<line stroke="#000000" stroke-width="2" x1="279" x2="317" y1="192" y2="192"></line>
<line stroke="#000000" stroke-width="2" x1="752" x2="1048" y1="373" y2="373"></line>
<path d="M298,211 A19,19 0 0,0 279,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="317" x2="658" y1="406" y2="406"></line>
<line stroke="#000000" stroke-width="2" x1="663" x2="1009" y1="406" y2="406"></line>
<path d="M298,387 A19,19 0 0,0 317,406" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M1009,406 A19,19 0 0,0 1028,387" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M1047,373 A19,19 0 0,0 1028,392" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="298" x2="298" y1="387" y2="211"></line>
<line stroke="#000000" stroke-width="2" x1="1028" x2="1028" y1="387" y2="392"></line>
<line stroke="#000000" stroke-width="2" x1="392" x2="430" y1="63" y2="63"></line>
<path d="M439,72 A9,9 0 0,0 430,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="439" x2="439" y1="72" y2="97"></line>
<line stroke="#000000" stroke-width="2" x1="439" x2="439" y1="101" y2="131"></line>
<path d="M430,140 A9,9 0 0,0 439,131" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="430" x2="339" y1="140" y2="140"></line>
<line stroke="#000000" stroke-width="2" x1="335" x2="241" y1="140" y2="140"></line>
<path d="M241,140 A9,9 0 0,0 232,149" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="232" x2="232" y1="149" y2="162"></line>
<line stroke="#000000" stroke-width="2" x1="232" x2="232" y1="166" y2="183"></line>
<path d="M232,183 A9,9 0 0,0 241,192" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="241" x2="275" y1="192" y2="192"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="1067" cy="373" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="1046" x2="1060" y1="373" y2="373"></line>
<text class="title_font" x="101" y="28">from_clause</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Основными ограничениями и отличиями такого запроса от SQL-запросов в различных СУБД являются:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Запросы строятся только на таблицах и материализованных представлениях (текущей гранулы или соседних гранул).
Во избежание выстраивания неэффективных конструкций невозможно построение запросов на обычных представлениях.</p>
</li>
</ol>
</div>
<div id="no_select_all_fields" class="olist arabic">
<ol class="arabic">
<li>
<p>Конструкция <code>SELECT *</code> не поддерживается, и всякое поле запроса, если только это не ссылка на поле таблицы с уникальным в рамках запроса именем, должно иметь определённый и уникальный псевдоним.
Это нужно для возможности однозначного создания класса-курсора, поля которого соответствуют именам столбцов запроса.</p>
</li>
<li>
<p>Не поддерживается конструкция <code>ORDER BY</code>, т. к. при необходимости определённым образом отсортировать результирующий набор следует воспользоваться методом orderBy(…​) соответствующего курсора.</p>
</li>
<li>
<p>Не поддерживается конструкция <code>GROUP BY</code>…​<code>HAVING</code>.</p>
</li>
<li>
<p>Не поддерживаются <code>FULL JOIN</code> (объединения <code>LEFT</code> и <code>RIGHT</code> joins) и <code>CROSS JOIN</code> (декартовы произведения таблиц).</p>
</li>
<li>
<p>Не поддерживается конструкция <code>WITH</code> и вложенные запросы.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Большая часть из функциональности, не поддерживаемой на уровне CelestaSQL, эффективно эмулируется в API классов доступа к данным.</p>
</div>
<div class="paragraph">
<p>Ссылка на таблицу (<strong>table_ref</strong>) имеет синтаксис</p>
</div>
<div class="literalblock">
<div class="content">
<pre>line(optx('/&lt;grain name&gt;', '.'), '/&lt;table name&gt;')</pre>
</div>
</div>
<div class="paragraph">
<p>Имя гранулы указывать не обязательно, если таблица находится в той же грануле, что и текущее представление.</p>
</div>
<div class="paragraph">
<p>Терм, определяющий поле представления, имеет следующий синтаксис:</p>
</div>

        <div id="term" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="618" height="398" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="398" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 618 398" width="618">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line stroke="#000000" stroke-width="2" x1="155" x2="156" y1="63" y2="63"></line>
<path d="M153,117 A15,15 0 0,1 153,87 H159 A15,15 0 0,1 159,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="156" y="107">-</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="90" x2="151" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="156" x2="223" y1="63" y2="63"></line>
<path d="M109,82 A19,19 0 0,0 90,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="128" x2="134" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="174" x2="184" y1="101" y2="101"></line>
<path d="M109,82 A19,19 0 0,0 128,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M184,101 A19,19 0 0,0 203,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M222,63 A19,19 0 0,0 203,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="109" x2="109" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="203" x2="203" y1="82" y2="82"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="127" x="287" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#primary_term" target="_parent"><text class="box_font link" x="350" y="69">primary_term</text></a>
<path d="M302,117 A15,15 0 0,1 302,87 H309 A15,15 0 0,1 309,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="305" y="107">(</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="341" y="88"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="369" y="107">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="323" x2="337" y1="101" y2="101"></line>
<path d="M430,117 A15,15 0 0,1 430,87 H437 A15,15 0 0,1 437,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="433" y="107">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="397" x2="411" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="239" x2="283" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="414" x2="501" y1="63" y2="63"></line>
<path d="M258,82 A19,19 0 0,0 239,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="277" x2="283" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="452" x2="462" y1="101" y2="101"></line>
<path d="M258,82 A19,19 0 0,0 277,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M462,101 A19,19 0 0,0 481,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M500,63 A19,19 0 0,0 481,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="258" x2="258" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="481" x2="481" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="221" x2="235" y1="63" y2="63"></line>
<path d="M162,155 A14,14 0 0,1 162,127 H212 A14,14 0 0,1 212,155 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="187" y="146">UPPER</text>
<path d="M162,193 A14,14 0 0,1 162,165 H218 A14,14 0 0,1 218,193 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="190" y="184">LOWER</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="100" x2="144" y1="140" y2="140"></line>
<line stroke="#000000" stroke-width="2" x1="226" x2="281" y1="140" y2="140"></line>
<path d="M119,159 A19,19 0 0,0 100,140" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="138" x2="144" y1="178" y2="178"></line>
<line stroke="#000000" stroke-width="2" x1="232" x2="242" y1="178" y2="178"></line>
<path d="M119,159 A19,19 0 0,0 138,178" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M242,178 A19,19 0 0,0 261,159" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M280,140 A19,19 0 0,0 261,159" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="119" x2="119" y1="159" y2="159"></line>
<line stroke="#000000" stroke-width="2" x1="261" x2="261" y1="159" y2="159"></line>
<path d="M312,156 A15,15 0 0,1 312,126 H319 A15,15 0 0,1 319,156 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="315" y="146">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="279" x2="293" y1="140" y2="140"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="351" y="127"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="379" y="146">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="333" x2="347" y1="140" y2="140"></line>
<path d="M440,156 A15,15 0 0,1 440,126 H447 A15,15 0 0,1 447,156 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="443" y="146">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="407" x2="421" y1="140" y2="140"></line>
<line stroke="#000000" stroke-width="2" x1="52" x2="90" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="500" x2="577" y1="63" y2="63"></line>
<path d="M71,82 A19,19 0 0,0 52,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="90" x2="96" y1="140" y2="140"></line>
<line stroke="#000000" stroke-width="2" x1="462" x2="538" y1="140" y2="140"></line>
<path d="M71,121 A19,19 0 0,0 90,140" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M538,140 A19,19 0 0,0 557,121" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M576,63 A19,19 0 0,0 557,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="71" x2="71" y1="121" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="557" x2="557" y1="121" y2="82"></line>
<path d="M288,232 A15,15 0 0,1 288,202 H302 A15,15 0 0,1 302,232 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="295" y="222">+</text>
<path d="M289,271 A15,15 0 0,1 289,241 H295 A15,15 0 0,1 295,271 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="292" y="261">-</text>
<path d="M289,310 A15,15 0 0,1 289,280 H298 A15,15 0 0,1 298,310 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="293" y="300">*</text>
<path d="M289,349 A15,15 0 0,1 289,319 H295 A15,15 0 0,1 295,349 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="292" y="339">/</text>
<path d="M289,388 A15,15 0 0,1 289,358 H301 A15,15 0 0,1 301,388 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="295" y="378">||</text>
<line stroke="#000000" stroke-width="2" x1="226" x2="273" y1="216" y2="216"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="365" x2="321" y1="216" y2="216"></line>
<path d="M245,235 A19,19 0 0,0 226,216" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="264" x2="274" y1="255" y2="255"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="326" x2="314" y1="255" y2="255"></line>
<path d="M245,236 A19,19 0 0,0 264,255" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M326,255 A19,19 0 0,0 345,236" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="264" x2="274" y1="294" y2="294"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="326" x2="317" y1="294" y2="294"></line>
<path d="M245,275 A19,19 0 0,0 264,294" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M326,294 A19,19 0 0,0 345,275" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="264" x2="274" y1="333" y2="333"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="326" x2="314" y1="333" y2="333"></line>
<path d="M245,314 A19,19 0 0,0 264,333" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M326,333 A19,19 0 0,0 345,314" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="264" x2="274" y1="372" y2="372"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="326" x2="320" y1="372" y2="372"></line>
<path d="M245,353 A19,19 0 0,0 264,372" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M326,372 A19,19 0 0,0 345,353" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M364,216 A19,19 0 0,0 345,235" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="245" x2="245" y1="353" y2="235"></line>
<line stroke="#000000" stroke-width="2" x1="345" x2="345" y1="353" y2="235"></line>
<line stroke="#000000" stroke-width="2" x1="52" x2="226" y1="216" y2="216"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="576" x2="368" y1="216" y2="216"></line>
<line stroke="#000000" stroke-width="2" x1="33" x2="52" y1="63" y2="63"></line>
<path d="M52,63 A9,9 0 0,0 43,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="43" x2="43" y1="207" y2="143"></line>
<line stroke="#000000" stroke-width="2" x1="43" x2="43" y1="139" y2="72"></line>
<path d="M43,207 A9,9 0 0,0 52,216" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M585,72 A9,9 0 0,0 576,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="585" x2="585" y1="72" y2="135"></line>
<line stroke="#000000" stroke-width="2" x1="585" x2="585" y1="139" y2="207"></line>
<path d="M576,216 A9,9 0 0,0 585,207" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="576" x2="585" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="605" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="584" x2="598" y1="63" y2="63"></line>
<text class="title_font" x="60" y="28">term</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Над выражениям типа <code>INT</code> и <code>REAL</code> допустимы обычные арифметические операции с обычным приоритетом: максимальный приоритет у унарного минуса, далее — умножение и деление («*», «/»), далее — сложение и вычитание («+», «-»).
Над выражениями типа <code>VARCHAR</code> допустима операция конкатенации «||», а также функции <code>UPPER</code> и <code>LOWER</code>, сводящие текст к верхнему и нижнему регистру, соответственно.
Операции над выражениями прочих типов недопустимы.</p>
</div>

        <div id="primary_term" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="645" height="396" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="396" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 645 396" width="645">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M161,78 H264 L271,64 L264,50 H161 L154,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="212" y="69">table name</text>
<path d="M164,116 H261 L268,102 L261,88 H164 L157,102 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="212" y="107">table alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="109" x2="150" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="271" x2="317" y1="63" y2="63"></line>
<path d="M128,82 A19,19 0 0,0 109,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="147" x2="153" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="268" x2="278" y1="101" y2="101"></line>
<path d="M128,82 A19,19 0 0,0 147,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M278,101 A19,19 0 0,0 297,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M316,63 A19,19 0 0,0 297,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="128" x2="128" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="297" x2="297" y1="82" y2="82"></line>
<path d="M348,79 A15,15 0 0,1 348,49 H354 A15,15 0 0,1 354,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="351" y="69">.</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="315" x2="329" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="248" x2="249" y1="125" y2="125"></line>
<line stroke="#000000" stroke-width="2" x1="71" x2="109" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="369" x2="427" y1="63" y2="63"></line>
<path d="M90,82 A19,19 0 0,0 71,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="109" x2="244" y1="125" y2="125"></line>
<line stroke="#000000" stroke-width="2" x1="249" x2="388" y1="125" y2="125"></line>
<path d="M90,106 A19,19 0 0,0 109,125" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M388,125 A19,19 0 0,0 407,106" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M426,63 A19,19 0 0,0 407,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="90" x2="90" y1="106" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="407" x2="407" y1="106" y2="82"></line>
<path d="M450,78 H548 L555,64 L548,50 H450 L443,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="499" y="69">field name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="425" x2="439" y1="63" y2="63"></line>
<path d="M88,162 H200 L207,148 L200,134 H88 L81,148 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="144" y="153">string literal</text>
<path d="M88,199 H211 L218,185 L211,171 H88 L81,185 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="149" y="190">integer literal</text>
<path d="M88,236 H243 L250,222 L243,208 H88 L81,222 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="165" y="227">float.-point literal</text>
<path d="M95,273 A14,14 0 0,1 95,245 H136 A14,14 0 0,1 136,273 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="115" y="264">TRUE</text>
<path d="M95,310 A14,14 0 0,1 95,282 H143 A14,14 0 0,1 143,310 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="119" y="301">FALSE</text>
<path d="M96,349 A15,15 0 0,1 96,319 H192 A15,15 0 0,1 192,349 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="144" y="339">GETDATE()</text>
<path d="M88,386 H182 L189,372 L182,358 H88 L81,372 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="135" y="377">$param id</text>
<line stroke="#000000" stroke-width="2" x1="33" x2="71" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="555" x2="613" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="147" y2="147"></line>
<line stroke="#000000" stroke-width="2" x1="207" x2="574" y1="147" y2="147"></line>
<path d="M52,128 A19,19 0 0,0 71,147" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,147 A19,19 0 0,0 593,128" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="184" y2="184"></line>
<line stroke="#000000" stroke-width="2" x1="218" x2="574" y1="184" y2="184"></line>
<path d="M52,165 A19,19 0 0,0 71,184" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,184 A19,19 0 0,0 593,165" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="221" y2="221"></line>
<line stroke="#000000" stroke-width="2" x1="250" x2="574" y1="221" y2="221"></line>
<path d="M52,202 A19,19 0 0,0 71,221" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,221 A19,19 0 0,0 593,202" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="258" y2="258"></line>
<line stroke="#000000" stroke-width="2" x1="150" x2="574" y1="258" y2="258"></line>
<path d="M52,239 A19,19 0 0,0 71,258" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,258 A19,19 0 0,0 593,239" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="295" y2="295"></line>
<line stroke="#000000" stroke-width="2" x1="157" x2="574" y1="295" y2="295"></line>
<path d="M52,276 A19,19 0 0,0 71,295" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,295 A19,19 0 0,0 593,276" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="333" y2="333"></line>
<line stroke="#000000" stroke-width="2" x1="207" x2="574" y1="333" y2="333"></line>
<path d="M52,314 A19,19 0 0,0 71,333" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,333 A19,19 0 0,0 593,314" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="371" y2="371"></line>
<line stroke="#000000" stroke-width="2" x1="189" x2="574" y1="371" y2="371"></line>
<path d="M52,352 A19,19 0 0,0 71,371" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M574,371 A19,19 0 0,0 593,352" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M612,63 A19,19 0 0,0 593,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="352" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="593" x2="593" y1="352" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="632" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="611" x2="625" y1="63" y2="63"></line>
<text class="title_font" x="109" y="28">primary_term</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Ссылки на поля могут быть однокомпонентными (если они однозначно указывают на поле определённой таблицы) либо двухкомпонентными, в этом случае в качестве первой компоненты следует указывать псевдоним таблицы из конструкции <code>FROM</code> либо — если явный псевдоним отсутствует — имя таблицы.</p>
</div>
<div class="paragraph">
<p>Специальный вид идентификатора <strong>&lt;$param id&gt;</strong> — знак $, за которым следует идентификатор — служит для ссылок на параметры <a href="#create_function_statement">функций</a>.</p>
</div>
<div class="paragraph">
<p>Наконец, синтаксис логического выражения <strong>condition</strong>, используемого в конструкциях <code>JOIN</code> …​ <code>ON</code> и <code>WHERE</code>:</p>
</div>

        <div id="condition" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="545" height="202" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="202" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 545 202" width="545">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M104,78 A14,14 0 0,1 104,50 H137 A14,14 0 0,1 137,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="120" y="69">NOT</text>
<line stroke="#000000" stroke-width="2" x1="120" x2="121" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="52" x2="90" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="151" x2="190" y1="63" y2="63"></line>
<path d="M71,82 A19,19 0 0,0 52,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="90" x2="116" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="121" x2="151" y1="101" y2="101"></line>
<path d="M71,82 A19,19 0 0,0 90,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M151,101 A19,19 0 0,0 170,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M189,63 A19,19 0 0,0 170,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="71" x2="71" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="170" x2="170" y1="82" y2="82"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="95" x="254" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#predicate" target="_parent"><text class="box_font link" x="301" y="69">predicate</text></a>
<path d="M269,117 A15,15 0 0,1 269,87 H276 A15,15 0 0,1 276,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="272" y="107">(</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="93" x="308" y="88"></rect>
<a xlink:href="1050_celesta_sql.html#condition" target="_parent"><text class="box_font link" x="354" y="107">condition</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="290" x2="304" y1="101" y2="101"></line>
<path d="M433,117 A15,15 0 0,1 433,87 H440 A15,15 0 0,1 440,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="436" y="107">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="400" x2="414" y1="101" y2="101"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="206" x2="250" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="349" x2="504" y1="63" y2="63"></line>
<path d="M225,82 A19,19 0 0,0 206,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="244" x2="250" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="455" x2="465" y1="101" y2="101"></line>
<path d="M225,82 A19,19 0 0,0 244,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M465,101 A19,19 0 0,0 484,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M503,63 A19,19 0 0,0 484,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="225" x2="225" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="484" x2="484" y1="82" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="188" x2="202" y1="63" y2="63"></line>
<path d="M241,154 A14,14 0 0,1 241,126 H274 A14,14 0 0,1 274,154 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="257" y="145">AND</text>
<path d="M247,192 A14,14 0 0,1 247,164 H269 A14,14 0 0,1 269,192 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="258" y="183">OR</text>
<line stroke="#000000" stroke-width="2" x1="185" x2="227" y1="139" y2="139"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="332" x2="292" y1="139" y2="139"></line>
<path d="M204,158 A19,19 0 0,0 185,139" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="223" x2="233" y1="177" y2="177"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="293" x2="287" y1="177" y2="177"></line>
<path d="M204,158 A19,19 0 0,0 223,177" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M293,177 A19,19 0 0,0 312,158" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M331,139 A19,19 0 0,0 312,158" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="204" x2="204" y1="158" y2="158"></line>
<line stroke="#000000" stroke-width="2" x1="312" x2="312" y1="158" y2="158"></line>
<line stroke="#000000" stroke-width="2" x1="52" x2="185" y1="139" y2="139"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="503" x2="335" y1="139" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="33" x2="52" y1="63" y2="63"></line>
<path d="M52,63 A9,9 0 0,0 43,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="43" x2="43" y1="130" y2="105"></line>
<line stroke="#000000" stroke-width="2" x1="43" x2="43" y1="101" y2="72"></line>
<path d="M43,130 A9,9 0 0,0 52,139" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M512,72 A9,9 0 0,0 503,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="512" x2="512" y1="72" y2="97"></line>
<line stroke="#000000" stroke-width="2" x1="512" x2="512" y1="101" y2="130"></line>
<path d="M503,139 A9,9 0 0,0 512,130" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="503" x2="512" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="532" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="511" x2="525" y1="63" y2="63"></line>
<text class="title_font" x="85" y="28">condition</text>
</svg>

            </object>
          </div>
        </div>

        <div id="predicate" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="566" height="472" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="472" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 566 472" width="566">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="33" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="61" y="69">term</text></a>
<path d="M218,79 A15,15 0 0,1 218,49 H232 A15,15 0 0,1 232,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="225" y="69">=</text>
<path d="M218,118 A15,15 0 0,1 218,88 H232 A15,15 0 0,1 232,118 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="225" y="108">&gt;</text>
<path d="M218,157 A15,15 0 0,1 218,127 H246 A15,15 0 0,1 246,157 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="232" y="147">&gt;=</text>
<path d="M218,196 A15,15 0 0,1 218,166 H246 A15,15 0 0,1 246,196 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="232" y="186">&lt;=</text>
<path d="M218,235 A15,15 0 0,1 218,205 H232 A15,15 0 0,1 232,235 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="225" y="225">&lt;</text>
<path d="M218,274 A15,15 0 0,1 218,244 H246 A15,15 0 0,1 246,274 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="232" y="264">&lt;&gt;</text>
<path d="M217,311 A14,14 0 0,1 217,283 H250 A14,14 0 0,1 250,311 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="233" y="302">LIKE</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="155" x2="199" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="247" x2="313" y1="63" y2="63"></line>
<path d="M174,82 A19,19 0 0,0 155,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="193" x2="199" y1="102" y2="102"></line>
<line stroke="#000000" stroke-width="2" x1="247" x2="274" y1="102" y2="102"></line>
<path d="M174,83 A19,19 0 0,0 193,102" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M274,102 A19,19 0 0,0 293,83" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="193" x2="199" y1="141" y2="141"></line>
<line stroke="#000000" stroke-width="2" x1="261" x2="274" y1="141" y2="141"></line>
<path d="M174,122 A19,19 0 0,0 193,141" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M274,141 A19,19 0 0,0 293,122" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="193" x2="199" y1="180" y2="180"></line>
<line stroke="#000000" stroke-width="2" x1="261" x2="274" y1="180" y2="180"></line>
<path d="M174,161 A19,19 0 0,0 193,180" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M274,180 A19,19 0 0,0 293,161" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="193" x2="199" y1="219" y2="219"></line>
<line stroke="#000000" stroke-width="2" x1="247" x2="274" y1="219" y2="219"></line>
<path d="M174,200 A19,19 0 0,0 193,219" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M274,219 A19,19 0 0,0 293,200" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="193" x2="199" y1="258" y2="258"></line>
<line stroke="#000000" stroke-width="2" x1="261" x2="274" y1="258" y2="258"></line>
<path d="M174,239 A19,19 0 0,0 193,258" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M274,258 A19,19 0 0,0 293,239" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="193" x2="199" y1="296" y2="296"></line>
<line stroke="#000000" stroke-width="2" x1="264" x2="274" y1="296" y2="296"></line>
<path d="M174,277 A19,19 0 0,0 193,296" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M274,296 A19,19 0 0,0 293,277" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M312,63 A19,19 0 0,0 293,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="174" x2="174" y1="277" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="293" x2="293" y1="277" y2="82"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="329" y="50"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="357" y="69">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="311" x2="325" y1="63" y2="63"></line>
<path d="M169,348 A14,14 0 0,1 169,320 H245 A14,14 0 0,1 245,348 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="207" y="339">BETWEEN</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="276" y="320"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="304" y="339">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="258" x2="272" y1="333" y2="333"></line>
<path d="M364,348 A14,14 0 0,1 364,320 H397 A14,14 0 0,1 397,348 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="380" y="339">AND</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="332" x2="346" y1="333" y2="333"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="428" y="320"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="456" y="339">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="410" x2="424" y1="333" y2="333"></line>
<path d="M169,386 A14,14 0 0,1 169,358 H185 A14,14 0 0,1 185,386 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="177" y="377">IN</text>
<path d="M231,387 A15,15 0 0,1 231,357 H238 A15,15 0 0,1 238,387 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="234" y="377">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="198" x2="212" y1="371" y2="371"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="289" y="358"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="317" y="377">term</text></a>
<path d="M314,425 A15,15 0 0,1 314,395 H320 A15,15 0 0,1 320,425 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="317" y="415">,</text>
<line stroke="#000000" stroke-width="2" x1="289" x2="299" y1="409" y2="409"></line>
<line stroke="#000000" stroke-width="2" x1="335" x2="346" y1="409" y2="409"></line>
<line stroke="#000000" stroke-width="2" x1="270" x2="289" y1="371" y2="371"></line>
<path d="M289,371 A9,9 0 0,0 280,380" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="280" x2="280" y1="400" y2="394"></line>
<line stroke="#000000" stroke-width="2" x1="280" x2="280" y1="390" y2="380"></line>
<path d="M280,400 A9,9 0 0,0 289,409" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M355,380 A9,9 0 0,0 346,371" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="355" x2="355" y1="380" y2="386"></line>
<line stroke="#000000" stroke-width="2" x1="355" x2="355" y1="390" y2="400"></line>
<path d="M346,409 A9,9 0 0,0 355,400" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="346" x2="355" y1="371" y2="371"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="252" x2="266" y1="371" y2="371"></line>
<path d="M387,387 A15,15 0 0,1 387,357 H394 A15,15 0 0,1 394,387 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="390" y="377">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="354" x2="368" y1="371" y2="371"></line>
<path d="M169,462 A14,14 0 0,1 169,434 H184 A14,14 0 0,1 184,462 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="176" y="453">IS</text>
<path d="M229,462 A14,14 0 0,1 229,434 H269 A14,14 0 0,1 269,462 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="249" y="453">NULL</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="197" x2="211" y1="447" y2="447"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="107" x2="151" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="386" x2="534" y1="63" y2="63"></line>
<path d="M126,82 A19,19 0 0,0 107,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="145" x2="151" y1="333" y2="333"></line>
<line stroke="#000000" stroke-width="2" x1="485" x2="495" y1="333" y2="333"></line>
<path d="M126,314 A19,19 0 0,0 145,333" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M495,333 A19,19 0 0,0 514,314" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="145" x2="151" y1="371" y2="371"></line>
<line stroke="#000000" stroke-width="2" x1="409" x2="495" y1="371" y2="371"></line>
<path d="M126,352 A19,19 0 0,0 145,371" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M495,371 A19,19 0 0,0 514,352" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="145" x2="151" y1="447" y2="447"></line>
<line stroke="#000000" stroke-width="2" x1="283" x2="495" y1="447" y2="447"></line>
<path d="M126,428 A19,19 0 0,0 145,447" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M495,447 A19,19 0 0,0 514,428" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M533,63 A19,19 0 0,0 514,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="126" x2="126" y1="428" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="514" x2="514" y1="428" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="89" x2="103" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="553" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="532" x2="546" y1="63" y2="63"></line>
<text class="title_font" x="86" y="28">predicate</text>
</svg>

            </object>
          </div>
        </div>

        <div id="aggregate" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="708" height="202" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="202" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 708 202" width="708">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M95,78 A14,14 0 0,1 95,50 H150 A14,14 0 0,1 150,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="122" y="69">COUNT</text>
<path d="M196,79 A15,15 0 0,1 196,49 H203 A15,15 0 0,1 203,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="199" y="69">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="163" x2="177" y1="63" y2="63"></line>
<path d="M250,79 A15,15 0 0,1 250,49 H259 A15,15 0 0,1 259,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="254" y="69">*</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="217" x2="231" y1="63" y2="63"></line>
<path d="M306,79 A15,15 0 0,1 306,49 H313 A15,15 0 0,1 313,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="309" y="69">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="273" x2="287" y1="63" y2="63"></line>
<path d="M143,117 A14,14 0 0,1 143,89 H177 A14,14 0 0,1 177,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="160" y="108">SUM</text>
<path d="M143,155 A14,14 0 0,1 143,127 H172 A14,14 0 0,1 172,155 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="157" y="146">MIN</text>
<path d="M143,192 A14,14 0 0,1 143,164 H177 A14,14 0 0,1 177,192 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="160" y="183">MAX</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="81" x2="125" y1="102" y2="102"></line>
<line stroke="#000000" stroke-width="2" x1="191" x2="240" y1="102" y2="102"></line>
<path d="M100,121 A19,19 0 0,0 81,102" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="119" x2="125" y1="140" y2="140"></line>
<line stroke="#000000" stroke-width="2" x1="186" x2="201" y1="140" y2="140"></line>
<path d="M100,121 A19,19 0 0,0 119,140" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M201,140 A19,19 0 0,0 220,121" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="119" x2="125" y1="177" y2="177"></line>
<line stroke="#000000" stroke-width="2" x1="191" x2="201" y1="177" y2="177"></line>
<path d="M100,158 A19,19 0 0,0 119,177" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M201,177 A19,19 0 0,0 220,158" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M239,102 A19,19 0 0,0 220,121" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="100" x2="100" y1="158" y2="121"></line>
<line stroke="#000000" stroke-width="2" x1="220" x2="220" y1="158" y2="121"></line>
<path d="M271,118 A15,15 0 0,1 271,88 H278 A15,15 0 0,1 278,118 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="274" y="108">(</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="310" y="89"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="338" y="108">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="292" x2="306" y1="102" y2="102"></line>
<path d="M399,118 A15,15 0 0,1 399,88 H406 A15,15 0 0,1 406,118 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="402" y="108">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="366" x2="380" y1="102" y2="102"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="238" x2="252" y1="102" y2="102"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="33" x2="77" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="328" x2="489" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="102" y2="102"></line>
<line stroke="#000000" stroke-width="2" x1="421" x2="450" y1="102" y2="102"></line>
<path d="M52,83 A19,19 0 0,0 71,102" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M450,102 A19,19 0 0,0 469,83" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M488,63 A19,19 0 0,0 469,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="83" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="469" x2="469" y1="83" y2="82"></line>
<path d="M519,78 A14,14 0 0,1 519,50 H539 A14,14 0 0,1 539,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="529" y="69">AS</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="487" x2="501" y1="63" y2="63"></line>
<path d="M577,78 H668 L675,64 L668,50 H577 L570,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="622" y="69">field alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="552" x2="566" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="695" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="674" x2="688" y1="63" y2="63"></line>
<text class="title_font" x="91" y="28">aggregate</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Следует отметить, что <strong>term</strong> внутри конструкции <code>SUM</code> должен являться числом.</p>
</div>

        <div id="group_by" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="460" height="165" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="165" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 460 165" width="460">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H102 A14,14 0 0,1 102,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="74" y="69">GROUP</text>
<path d="M147,78 A14,14 0 0,1 147,50 H167 A14,14 0 0,1 167,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="157" y="69">BY</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="115" x2="129" y1="63" y2="63"></line>
<path d="M268,78 H366 L373,64 L366,50 H268 L261,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="317" y="69">field name</text>
<path d="M272,116 H363 L370,102 L363,88 H272 L265,102 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="317" y="107">field alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="217" x2="257" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="373" x2="419" y1="63" y2="63"></line>
<path d="M236,82 A19,19 0 0,0 217,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="255" x2="261" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="370" x2="380" y1="101" y2="101"></line>
<path d="M236,82 A19,19 0 0,0 255,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M380,101 A19,19 0 0,0 399,82" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M418,63 A19,19 0 0,0 399,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="236" x2="236" y1="82" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="399" x2="399" y1="82" y2="82"></line>
<path d="M314,155 A15,15 0 0,1 314,125 H320 A15,15 0 0,1 320,155 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="317" y="145">,</text>
<line stroke="#000000" stroke-width="2" x1="217" x2="299" y1="139" y2="139"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="418" x2="339" y1="139" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="198" x2="217" y1="63" y2="63"></line>
<path d="M217,63 A9,9 0 0,0 208,72" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="208" x2="208" y1="130" y2="105"></line>
<line stroke="#000000" stroke-width="2" x1="208" x2="208" y1="101" y2="72"></line>
<path d="M208,130 A9,9 0 0,0 217,139" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M427,72 A9,9 0 0,0 418,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="427" x2="427" y1="72" y2="97"></line>
<line stroke="#000000" stroke-width="2" x1="427" x2="427" y1="101" y2="130"></line>
<path d="M418,139 A9,9 0 0,0 427,130" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="418" x2="427" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="180" x2="194" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="447" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="426" x2="440" y1="63" y2="63"></line>
<text class="title_font" x="85" y="28">group_by</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Особенность конструкции <code>GROUP BY</code> в CelestaSQL заключается в необходимости всегда перечислять в ней все неагрегатные колонки из выборки.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_materialized_view_statement">
<a class="anchor" href="#create_materialized_view_statement"></a>9. Конструкция CREATE MATERIALIZED VIEW</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Материализованные представления (materialized views) служат для доступа только на чтение к агрегатным данным, собранным из одной таблицы и объединенным при помощи выражения <code>GROUP BY</code>.
Для каждого своего материализованного представления Celesta создаёт таблицу в базе данных, модифицируемую триггерами базы данных при изменении родительской таблицы.</p>
</div>
<div class="paragraph">
<p>Материализованные представления создаются при помощи синтаксической конструкции</p>
</div>

        <div id="create_materialized_view" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="788" height="400" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="400" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 788 400" width="788">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M153,78 A14,14 0 0,1 153,50 H268 A14,14 0 0,1 268,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="210" y="69">MATERIALIZED</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M313,78 A14,14 0 0,1 313,50 H353 A14,14 0 0,1 353,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="333" y="69">VIEW</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="281" x2="295" y1="63" y2="63"></line>
<path d="M391,78 H490 L497,64 L490,50 H391 L384,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="440" y="69">view name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="366" x2="380" y1="63" y2="63"></line>
<path d="M528,78 A14,14 0 0,1 528,50 H548 A14,14 0 0,1 548,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="538" y="69">AS</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="496" x2="510" y1="63" y2="63"></line>
<path d="M124,184 A14,14 0 0,1 124,156 H182 A14,14 0 0,1 182,184 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="153" y="175">SELECT</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="208" x="280" y="156"></rect>
<a xlink:href="1050_celesta_sql.html#materialized_aggregate" target="_parent"><text class="box_font link" x="384" y="175">materialized_aggregate</text></a>
<path d="M287,222 H385 L392,208 L385,194 H287 L280,208 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="336" y="213">field name</text>
<path d="M461,222 A14,14 0 0,1 461,194 H481 A14,14 0 0,1 481,222 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="471" y="213">AS</text>
<path d="M519,222 H610 L617,208 L610,194 H519 L512,208 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="564" y="213">field alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="494" x2="508" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="531" x2="532" y1="245" y2="245"></line>
<line stroke="#000000" stroke-width="2" x1="409" x2="447" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="617" x2="656" y1="207" y2="207"></line>
<path d="M428,226 A19,19 0 0,0 409,207" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="447" x2="527" y1="245" y2="245"></line>
<line stroke="#000000" stroke-width="2" x1="532" x2="617" y1="245" y2="245"></line>
<path d="M428,226 A19,19 0 0,0 447,245" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M617,245 A19,19 0 0,0 636,226" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M655,207 A19,19 0 0,0 636,226" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="428" x2="428" y1="226" y2="226"></line>
<line stroke="#000000" stroke-width="2" x1="636" x2="636" y1="226" y2="226"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="391" x2="405" y1="207" y2="207"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="232" x2="276" y1="169" y2="169"></line>
<line stroke="#000000" stroke-width="2" x1="488" x2="723" y1="169" y2="169"></line>
<path d="M251,188 A19,19 0 0,0 232,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="270" x2="276" y1="207" y2="207"></line>
<line stroke="#000000" stroke-width="2" x1="655" x2="684" y1="207" y2="207"></line>
<path d="M251,188 A19,19 0 0,0 270,207" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M684,207 A19,19 0 0,0 703,188" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M722,169 A19,19 0 0,0 703,188" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="251" x2="251" y1="188" y2="188"></line>
<line stroke="#000000" stroke-width="2" x1="703" x2="703" y1="188" y2="188"></line>
<path d="M474,284 A15,15 0 0,1 474,254 H480 A15,15 0 0,1 480,284 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="477" y="274">,</text>
<line stroke="#000000" stroke-width="2" x1="232" x2="459" y1="268" y2="268"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="722" x2="499" y1="268" y2="268"></line>
<line stroke="#000000" stroke-width="2" x1="213" x2="232" y1="169" y2="169"></line>
<path d="M232,169 A9,9 0 0,0 223,178" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="223" x2="223" y1="259" y2="222"></line>
<line stroke="#000000" stroke-width="2" x1="223" x2="223" y1="218" y2="178"></line>
<path d="M223,259 A9,9 0 0,0 232,268" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M731,178 A9,9 0 0,0 722,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="731" x2="731" y1="178" y2="214"></line>
<line stroke="#000000" stroke-width="2" x1="731" x2="731" y1="218" y2="259"></line>
<path d="M722,268 A9,9 0 0,0 731,259" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="722" x2="731" y1="169" y2="169"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="195" x2="209" y1="169" y2="169"></line>
<line stroke="#000000" stroke-width="2" x1="562" x2="600" y1="63" y2="63"></line>
<path d="M609,72 A9,9 0 0,0 600,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="609" x2="609" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="609" x2="609" y1="90" y2="108"></line>
<path d="M600,117 A9,9 0 0,0 609,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="600" x2="340" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="336" x2="72" y1="117" y2="117"></line>
<path d="M72,117 A9,9 0 0,0 63,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="63" x2="63" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="63" x2="63" y1="143" y2="160"></line>
<path d="M63,160 A9,9 0 0,0 72,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="72" x2="106" y1="169" y2="169"></line>
<path d="M418,390 A14,14 0 0,1 418,362 H462 A14,14 0 0,1 462,390 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="440" y="381">FROM</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="90" x="493" y="362"></rect>
<a xlink:href="1050_celesta_sql.html#table_ref" target="_parent"><text class="box_font link" x="538" y="381">table_ref</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="475" x2="489" y1="375" y2="375"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="93" x="600" y="362"></rect>
<a xlink:href="1050_celesta_sql.html#group_by" target="_parent"><text class="box_font link" x="646" y="381">group_by</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="582" x2="596" y1="375" y2="375"></line>
<line stroke="#000000" stroke-width="2" x1="731" x2="769" y1="169" y2="169"></line>
<path d="M778,178 A9,9 0 0,0 769,169" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="778" x2="778" y1="178" y2="242"></line>
<line stroke="#000000" stroke-width="2" x1="778" x2="778" y1="246" y2="314"></line>
<path d="M769,323 A9,9 0 0,0 778,314" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="769" x2="571" y1="323" y2="323"></line>
<line stroke="#000000" stroke-width="2" x1="567" x2="366" y1="323" y2="323"></line>
<path d="M366,323 A9,9 0 0,0 357,332" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="357" x2="357" y1="332" y2="345"></line>
<line stroke="#000000" stroke-width="2" x1="357" x2="357" y1="349" y2="366"></line>
<path d="M357,366 A9,9 0 0,0 366,375" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="366" x2="400" y1="375" y2="375"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="713" cy="375" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="692" x2="706" y1="375" y2="375"></line>
<text class="title_font" x="174" y="28">create_materialized_view</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Основными ограничениями и отличиями такого запроса от SQL-запросов в различных СУБД являются:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Запросы строятся только на таблице текущей гранулы.</p>
</li>
<li>
<p>Конструкция <code>SELECT *</code> <a href="#no_select_all_fields">не поддерживается</a>.</p>
</li>
<li>
<p>В выборке обязательно должен участвовать хотя бы один агрегатный и хотя бы один неагрегатный столбец.</p>
</li>
<li>
<p>Неагрегатные колонки должны ссылаться на <code>NOT NULL</code> колонки родительской таблицы.</p>
</li>
<li>
<p>Если в <code>GROUP BY</code> выражении участвует колонка типа <code>DATETIME</code>, то ее значения будут округляться в точности до дня (часы, минуты и более точные измерения отсекаются).</p>
</li>
<li>
<p>Из агрегирующих операций доступны только <code>SUM</code> и <code>COUNT</code>.</p>
</li>
</ol>
</div>

        <div id="materialized_aggregate" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="593" height="128" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="128" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 593 128" width="593">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M93,78 A14,14 0 0,1 93,50 H148 A14,14 0 0,1 148,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="120" y="69">COUNT</text>
<path d="M194,79 A15,15 0 0,1 194,49 H201 A15,15 0 0,1 201,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="197" y="69">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="161" x2="175" y1="63" y2="63"></line>
<path d="M248,79 A15,15 0 0,1 248,49 H257 A15,15 0 0,1 257,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="252" y="69">*</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="229" y1="63" y2="63"></line>
<path d="M304,79 A15,15 0 0,1 304,49 H311 A15,15 0 0,1 311,79 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="307" y="69">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="271" x2="285" y1="63" y2="63"></line>
<path d="M95,117 A14,14 0 0,1 95,89 H129 A14,14 0 0,1 129,117 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="112" y="108">SUM</text>
<path d="M175,118 A15,15 0 0,1 175,88 H182 A15,15 0 0,1 182,118 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="178" y="108">(</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="142" x2="156" y1="102" y2="102"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="57" x="214" y="89"></rect>
<a xlink:href="1050_celesta_sql.html#term" target="_parent"><text class="box_font link" x="242" y="108">term</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="196" x2="210" y1="102" y2="102"></line>
<path d="M303,118 A15,15 0 0,1 303,88 H310 A15,15 0 0,1 310,118 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="306" y="108">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="270" x2="284" y1="102" y2="102"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="33" x2="75" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="326" x2="374" y1="63" y2="63"></line>
<path d="M52,82 A19,19 0 0,0 33,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="71" x2="77" y1="102" y2="102"></line>
<line stroke="#000000" stroke-width="2" x1="325" x2="335" y1="102" y2="102"></line>
<path d="M52,83 A19,19 0 0,0 71,102" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M335,102 A19,19 0 0,0 354,83" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M373,63 A19,19 0 0,0 354,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="52" x2="52" y1="83" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="354" x2="354" y1="83" y2="82"></line>
<path d="M404,78 A14,14 0 0,1 404,50 H424 A14,14 0 0,1 424,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="414" y="69">AS</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="372" x2="386" y1="63" y2="63"></line>
<path d="M462,78 H553 L560,64 L553,50 H462 L455,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="507" y="69">field alias</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="437" x2="451" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="580" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="559" x2="573" y1="63" y2="63"></line>
<text class="title_font" x="164" y="28">materialized_aggregate</text>
</svg>

            </object>
          </div>
        </div>
</div>
</div>
<div class="sect1">
<h2 id="create_function_statement">
<a class="anchor" href="#create_function_statement"></a>10. Конструкция CREATE FUNCTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Данная конструкция определяет функции — они же параметризованные представления.
Они служат для доступа только на чтение к данным, собранным из одной или нескольких таблиц при помощи SQL-запроса <code>SELECT</code> с учетом переданных параметров.</p>
</div>
<div class="paragraph">
<p>Функции создаются при помощи синтаксической конструкции</p>
</div>

        <div id="create_function" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="630" height="234" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="234" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 630 234" width="630">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M47,78 A14,14 0 0,1 47,50 H108 A14,14 0 0,1 108,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="77" y="69">CREATE</text>
<path d="M153,78 A14,14 0 0,1 153,50 H233 A14,14 0 0,1 233,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="193" y="69">FUNCTION</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="121" x2="135" y1="63" y2="63"></line>
<path d="M271,78 H399 L406,64 L399,50 H271 L264,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="335" y="69">function name</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="246" x2="260" y1="63" y2="63"></line>
<path d="M175,186 A15,15 0 0,1 175,156 H182 A15,15 0 0,1 182,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="178" y="176">(</text>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="154" x="233" y="157"></rect>
<a xlink:href="1050_celesta_sql.html#param_definition" target="_parent"><text class="box_font link" x="310" y="176">param_definition</text></a>
<path d="M307,224 A15,15 0 0,1 307,194 H313 A15,15 0 0,1 313,224 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="310" y="214">,</text>
<line stroke="#000000" stroke-width="2" x1="233" x2="292" y1="208" y2="208"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="387" x2="332" y1="208" y2="208"></line>
<line stroke="#000000" stroke-width="2" x1="214" x2="233" y1="170" y2="170"></line>
<path d="M233,170 A9,9 0 0,0 224,179" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="224" x2="224" y1="199" y2="193"></line>
<line stroke="#000000" stroke-width="2" x1="224" x2="224" y1="189" y2="179"></line>
<path d="M224,199 A9,9 0 0,0 233,208" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M396,179 A9,9 0 0,0 387,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="396" x2="396" y1="179" y2="185"></line>
<line stroke="#000000" stroke-width="2" x1="396" x2="396" y1="189" y2="199"></line>
<path d="M387,208 A9,9 0 0,0 396,199" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="387" x2="396" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="196" x2="210" y1="170" y2="170"></line>
<path d="M428,186 A15,15 0 0,1 428,156 H435 A15,15 0 0,1 435,186 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="token_font" x="431" y="176">)</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="395" x2="409" y1="170" y2="170"></line>
<path d="M481,185 A14,14 0 0,1 481,157 H501 A14,14 0 0,1 501,185 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="491" y="176">AS</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="449" x2="463" y1="170" y2="170"></line>
<rect fill="#ffffff" fill-opacity="1.0" height="28" stroke="#000000" stroke-width="2" width="65" x="532" y="157"></rect>
<a xlink:href="1050_celesta_sql.html#query" target="_parent"><text class="box_font link" x="564" y="176">query</text></a>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="514" x2="528" y1="170" y2="170"></line>
<line stroke="#000000" stroke-width="2" x1="406" x2="444" y1="63" y2="63"></line>
<path d="M453,72 A9,9 0 0,0 444,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="453" x2="453" y1="72" y2="86"></line>
<line stroke="#000000" stroke-width="2" x1="453" x2="453" y1="90" y2="108"></line>
<path d="M444,117 A9,9 0 0,0 453,108" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="444" x2="287" y1="117" y2="117"></line>
<line stroke="#000000" stroke-width="2" x1="283" x2="122" y1="117" y2="117"></line>
<path d="M122,117 A9,9 0 0,0 113,126" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="113" x2="113" y1="126" y2="139"></line>
<line stroke="#000000" stroke-width="2" x1="113" x2="113" y1="143" y2="161"></line>
<path d="M113,161 A9,9 0 0,0 122,170" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="122" x2="156" y1="170" y2="170"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="617" cy="170" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="596" x2="610" y1="170" y2="170"></line>
<text class="title_font" x="120" y="28">create_function</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Параметры декларируются через запятую, с заданием имени и типа параметра:</p>
</div>

        <div id="param_definition" class="imageblock">
          <div class="content">
            <object type="image/svg+xml" data="create_schema.svg" width="413" height="274" version="1.0" encoding="UTF-8" standalone="no">
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" height="274" preserveaspectratio="xMidYMid meet" xml:space="preserve" version="1.1" viewbox="0 0 413 274" width="413">
<style type="text/css">
<![CDATA[
.title_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:20pt; font-weight:normal; font-style:normal; }
.literal_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.token_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:16pt; font-weight:normal; font-style:normal; }
.box_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.bubble_font {fill:#000000; text-anchor:middle;
font-family:Roboto; font-size:14pt; font-weight:normal; font-style:normal; }
.label {fill: #000; text-anchor:middle; font-size:16pt; font-weight:bold; font-family:Sans;}
.link {fill: #0D47A1;}
.link:hover {fill: #0D47A1; text-decoration:underline;}
.link:visited {fill: #4A148C;}
]]>
</style>
<defs>
<marker id="arrow" markerheight="4" markerunits="strokeWidth" markerwidth="5" orient="auto" refx="2.5" refy="2">
<path d="M0,0 L0.5,2 L0,4 L4.5,2 z" fill="#000000"></path>
</marker>
</defs>
<rect fill="white" height="100%" width="100%"></rect>
<circle cx="13" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<path d="M40,78 H153 L160,64 L153,50 H40 L33,64 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="literal_font" x="96" y="69">param name</text>
<path d="M239,78 A14,14 0 0,1 239,50 H265 A14,14 0 0,1 265,78 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="252" y="69">INT</text>
<path d="M239,116 A14,14 0 0,1 239,88 H278 A14,14 0 0,1 278,116 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="258" y="107">REAL</text>
<path d="M239,153 A14,14 0 0,1 239,125 H308 A14,14 0 0,1 308,153 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="273" y="144">DECIMAL</text>
<path d="M239,190 A14,14 0 0,1 239,162 H314 A14,14 0 0,1 314,190 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="276" y="181">VARCHAR</text>
<path d="M239,227 A14,14 0 0,1 239,199 H318 A14,14 0 0,1 318,227 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="278" y="218">DATETIME</text>
<path d="M239,264 A14,14 0 0,1 239,236 H264 A14,14 0 0,1 264,264 z" fill="#ffffff" fill-opacity="1.0" stroke="#000000" stroke-width="2"></path>
<text class="bubble_font" x="251" y="255">BIT</text>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="177" x2="221" y1="63" y2="63"></line>
<line stroke="#000000" stroke-width="2" x1="279" x2="381" y1="63" y2="63"></line>
<path d="M196,82 A19,19 0 0,0 177,63" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="221" y1="101" y2="101"></line>
<line stroke="#000000" stroke-width="2" x1="292" x2="342" y1="101" y2="101"></line>
<path d="M196,82 A19,19 0 0,0 215,101" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M342,101 A19,19 0 0,0 361,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="221" y1="138" y2="138"></line>
<line stroke="#000000" stroke-width="2" x1="322" x2="342" y1="138" y2="138"></line>
<path d="M196,119 A19,19 0 0,0 215,138" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M342,138 A19,19 0 0,0 361,119" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="221" y1="175" y2="175"></line>
<line stroke="#000000" stroke-width="2" x1="328" x2="342" y1="175" y2="175"></line>
<path d="M196,156 A19,19 0 0,0 215,175" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M342,175 A19,19 0 0,0 361,156" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="221" y1="212" y2="212"></line>
<line stroke="#000000" stroke-width="2" x1="332" x2="342" y1="212" y2="212"></line>
<path d="M196,193 A19,19 0 0,0 215,212" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M342,212 A19,19 0 0,0 361,193" fill="none" stroke="#000000" stroke-width="2"></path>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="215" x2="221" y1="249" y2="249"></line>
<line stroke="#000000" stroke-width="2" x1="278" x2="342" y1="249" y2="249"></line>
<path d="M196,230 A19,19 0 0,0 215,249" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M342,249 A19,19 0 0,0 361,230" fill="none" stroke="#000000" stroke-width="2"></path>
<path d="M380,63 A19,19 0 0,0 361,82" fill="none" stroke="#000000" stroke-width="2"></path>
<line stroke="#000000" stroke-width="2" x1="196" x2="196" y1="230" y2="82"></line>
<line stroke="#000000" stroke-width="2" x1="361" x2="361" y1="230" y2="82"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="159" x2="173" y1="63" y2="63"></line>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="15" x2="29" y1="63" y2="63"></line>
<circle cx="400" cy="63" fill="#ffffff" r="3" stroke="#000000" stroke-width="2"></circle>
<line marker-end="url(#arrow)" stroke="#000000" stroke-width="2" x1="379" x2="393" y1="63" y2="63"></line>
<text class="title_font" x="127" y="28">param_definition</text>
</svg>

            </object>
          </div>
        </div>
<div class="paragraph">
<p>Чтобы сослаться на параметр в выражении функции, необходимо перед именем параметра ставить знак <code>$</code> (например, <code>param1</code> будет фигурировать в выражении запроса как <code>$param1</code>).</p>
</div>
<div class="paragraph">
<p>Основными ограничениями и отличиями такого запроса от SQL-запросов в различных СУБД являются:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Конструкция <code>SELECT *</code> <a href="#no_select_all_fields">не поддерживается</a>.</p>
</li>
<li>
<p>В объявлении обязательно должен иметься хотя бы один параметр.</p>
</li>
<li>
<p>Все объявленные параметры обязательно должны использоваться.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>В остальном синтаксическое выражение аналогично обычному View.</p>
</div>
<div class="paragraph">
<p>Пример функции:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE FUNCTION pView2(param int, param2 varchar) AS
  select f1, f2, f3 from t1
  where f2 = $param AND f3 = $param2;</code></pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/vendor/lunr-languages.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
